!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/core"],e):e(t.firebaseExample=t.firebaseExample||{},t.ng.common,t.ng.core)}(this,function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){var e=t.INTERNAL.registerService("database",function(t){return q.RepoManager.getInstance().databaseFromApp(t)},{Reference:V.Reference,Query:M.Query,Database:U.Database,enableLogging:F.enableLogging,INTERNAL:W,ServerValue:U.Database.ServerValue,TEST_ACCESS:K});(0,B.isNodeSdk)()&&(module.exports=e)}function o(t,e){return e={exports:{}},t(e,e.exports),e.exports}function s(){try{return Q.apply(this,arguments)}catch(t){return ot.errorObject.e=t,ot.errorObject}}function a(t){return t.reduce(function(t,e){return t.concat(e instanceof ut.UnsubscriptionError?e.errors:e)},[])}function u(t){return void 0===t||null===t}function c(t,e){return t&&void 0!==t[e]}function h(t){return"string"==typeof t}function l(t){return"function"==typeof t.set}function f(t){return"function"==typeof t.exportVal}function p(t){return"string"==typeof t.$key}function d(t){return!u(t)&&(0===Object.keys(t).length&&JSON.stringify(t)===JSON.stringify({}))}function v(t){var e=u(t.val())?{$value:null}:t.val();return/string|number|boolean/.test(typeof e)&&(e={$value:e}),Object.defineProperty(e,"$key",{value:t.ref.key,enumerable:!1}),Object.defineProperty(e,"$exists",{value:function(){return t.exists()},enumerable:!1}),e}function b(t){return It.test(t)}function y(t,e){if(l(e))return e;var n=e;return b(e)?t.database().refFromURL(n):t.database().ref(n)}function m(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return $t.isScheduler(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof Rt.Observable?t[0]:new Gt.ArrayObservable(t,r).lift(new pe.MergeAllOperator(n))}function g(t){t.clearThrottle()}function w(t,e){return void 0===e&&(e=!0),u(t)?Yt(null):Ct.create(function(n){var r=se.call(T(t),k(t),E(t),S(t),I(t));e&&(r=Te.call(r,0)),r.subscribe(function(t){var e=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a={};if(!u(e)&&!u(e.value))switch(e.key){case tt.Key:a={orderByKey:e.value};break;case tt.Priority:a={orderByPriority:e.value};break;case tt.Value:a={orderByValue:e.value};break;case tt.Child:a={orderByChild:e.value}}if(!u(s)&&!u(s.value))switch(s.key){case Ee.First:a.limitToFirst=s.value;break;case Ee.Last:a.limitToLast=s.value}void 0!==r&&(a.startAt=r),void 0!==i&&(a.endAt=i),void 0!==o&&(a.equalTo=o),n.next(a)})})}function T(t){var e=["orderByChild","orderByKey","orderByValue","orderByPriority"].map(function(t,e){return{key:t,option:e}}).filter(function(e){var n=e.key;e.option;return!u(t[n])}).map(function(e){var n=e.key,r=e.option;return A(t[n],r)});return 1===e.length?e[0]:e.length>1?de.apply(e[0],e.slice(1)):new Ct(function(t){t.next(null)})}function I(t){var e=["limitToFirst","limitToLast"].map(function(t,e){return{key:t,option:e}}).filter(function(e){var n=e.key;e.option;return!u(t[n])}).map(function(e){var n=e.key,r=e.option;return _(t[n],r)});return 1===e.length?e[0]:e.length>1?de.apply(e[0],e.slice(1)):new Ct(function(t){t.next(null)})}function k(t){return t.startAt instanceof Ct?t.startAt:new Ct(c(t,"startAt")?function(e){e.next(t.startAt)}:function(t){t.next(void 0)})}function E(t){return t.endAt instanceof Ct?t.endAt:new Ct(c(t,"endAt")?function(e){e.next(t.endAt)}:function(t){t.next(void 0)})}function S(t){return t.equalTo instanceof Ct?t.equalTo:new Ct(c(t,"equalTo")?function(e){e.next(t.equalTo)}:function(t){t.next(void 0)})}function A(t,e){return t instanceof Ct?be.call(t,function(t){return{value:t,key:e}}):new Ct(function(n){n.next({key:e,value:t})})}function _(t,e){return t instanceof Ct?be.call(t,function(t){return{value:t,key:e}}):new Ct(function(n){n.next({key:e,value:t})})}function O(t,e){var n=void 0===e?{}:e,r=n.preserveSnapshot,i=n.query,o=void 0===i?{}:i;if(d(o))return P(t,{preserveSnapshot:r});var s=w(o);return new Lt(t,function(e){var n=_e.call(be.call(s,function(e){var n=t;if(e.orderByChild?n=n.orderByChild(e.orderByChild):e.orderByKey?n=n.orderByKey():e.orderByPriority?n=n.orderByPriority():e.orderByValue&&(n=n.orderByValue()),c(e,"equalTo")){if(n=c(e.equalTo,"value")?n.equalTo(e.equalTo.value,e.equalTo.key):n.equalTo(e.equalTo),c(e,"startAt")||c(e,"endAt"))throw new Error("Query Error: Cannot use startAt or endAt with equalTo.");return u(e.limitToFirst)||(n=n.limitToFirst(e.limitToFirst)),u(e.limitToLast)||(n=n.limitToLast(e.limitToLast)),n}if(c(e,"startAt")&&(n=c(e.startAt,"value")?n.startAt(e.startAt.value,e.startAt.key):n.startAt(e.startAt)),c(e,"endAt")&&(n=c(e.endAt,"value")?n.endAt(e.endAt.value,e.endAt.key):n.endAt(e.endAt)),!u(e.limitToFirst)&&e.limitToLast)throw new Error("Query Error: Cannot use limitToFirst with limitToLast.");return u(e.limitToFirst)||(n=n.limitToFirst(e.limitToFirst)),u(e.limitToLast)||(n=n.limitToLast(e.limitToLast)),n}),function(t,e){return P(t,{preserveSnapshot:r})}).subscribe(e);return function(){return n.unsubscribe()}})}function P(t,e){var n=(void 0===e?{}:e).preserveSnapshot,r=n?function(t){return t}:v,i=n?function(t){return t.key}:function(t){return t.$key},o=new Lt(t,function(e){var n=[],o=!1,s=null,a=[];t.once("value",function(t){t.exists()?(t.forEach(function(t){s=t.key}),a.find(function(t){return i(t)===s})&&(o=!0,e.next(a))):(o=!0,e.next(a))},function(t){t&&(e.error(t),e.complete())});var u=t.on("child_added",function(t,n){a=N(a,r(t),i,n),o?e.next(a):t.key===s&&(o=!0,e.next(a))},function(t){t&&(e.error(t),e.complete())});n.push({event:"child_added",handle:u});var c=t.on("child_removed",function(t){a=C(a,r(t),i),o&&e.next(a)},function(t){t&&(e.error(t),e.complete())});n.push({event:"child_removed",handle:c});var h=t.on("child_changed",function(t,n){a=x(a,r(t),i,n),o&&e.next(a)},function(t){t&&(e.error(t),e.complete())});return n.push({event:"child_changed",handle:h}),function(){n.forEach(function(e){t.off(e.event,e.handle)})}});return Mt.call(o,new Tt(Zone.current))}function N(t,e,n,r){return t.length?t.reduce(function(t,i,o){return r||0!==o||t.push(e),t.push(i),r&&r===n(i)&&t.push(e),t},[]):[e]}function x(t,e,n,r){var i=n(e);return t.reduce(function(t,o,s){var a=n(o);return r||0!=s?a===r?(t.push(o),t.push(e)):a!==i&&t.push(o):(t.push(e),a!==i&&t.push(o)),t},[])}function C(t,e,n){var r=n(e);return t.filter(function(t){return n(t)!==r})}function R(t,e){var n=(void 0===e?{}:e).preserveSnapshot,r=new xe(function(e){var r=t.on("value",function(t){e.next(n?t:v(t))},function(t){t&&(e.error(t),e.complete())});return function(){return t.off("value",r)}},t);return Mt.call(r,new Tt(Zone.current))}function D(t){var e=Ct.create(function(e){t.auth().onAuthStateChanged(function(t){return e.next(t)},function(t){return e.error(t)},function(){e.complete()})});return Mt.call(e,new Tt(Zone.current))}function L(t){var e=Ct.create(function(e){t.auth().onIdTokenChanged(function(t){return e.next(t)},function(t){return e.error(t)},function(){e.complete()})});return Mt.call(e,new Tt(Zone.current))}Object.defineProperty(t,"__esModule",{value:!0}),t.registerDatabase=i;var j=function(t){return t&&t.__esModule?t:{default:t}}(require("./app")),U=require("./database/api/Database"),M=require("./database/api/Query"),V=require("./database/api/Reference"),F=require("./database/core/util/util"),q=require("./database/core/RepoManager"),W=r(require("./database/api/internal")),K=r(require("./database/api/test_access")),B=require("./utils/environment");i(j.default),Object.defineProperty(t,"__esModule",{value:!0}),require("./utils/shims");var X=(0,require("./app/firebase_app").createFirebaseNamespace)();t.default=X,module.exports=t.default;new n.InjectionToken("FirebaseAppConfigToken");var $=function(){return function(){}}(),H="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},G="undefined"!=typeof window&&window,Y="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z=void 0!==H&&H,J=G||z||Y,Z=J;!function(){if(!J)throw new Error("RxJS could not find any global context (window, self, global)")}();var Q,tt,et={root:Z},nt={isArray:Array.isArray||function(t){return t&&"number"==typeof t.length}},rt={isObject:function(t){return null!=t&&"object"==typeof t}},it={isFunction:function(t){return"function"==typeof t}},ot={errorObject:{e:{}}},st={tryCatch:function(t){return Q=t,s}},at=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ut={UnsubscriptionError:function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return at(e,t),e}(Error)},ct={Subscription:function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,r=n._parent,i=n._parents,o=n._unsubscribe,s=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var u=-1,c=i?i.length:0;r;)r.remove(this),r=++u<c&&i[u]||null;if(it.isFunction(o)&&(l=st.tryCatch(o).call(this))===ot.errorObject&&(e=!0,t=t||(ot.errorObject.e instanceof ut.UnsubscriptionError?a(ot.errorObject.e.errors):[ot.errorObject.e])),nt.isArray(s))for(u=-1,c=s.length;++u<c;){var h=s[u];if(rt.isObject(h)){var l=st.tryCatch(h.unsubscribe).call(h);if(l===ot.errorObject){e=!0,t=t||[];var f=ot.errorObject.e;f instanceof ut.UnsubscriptionError?t=t.concat(a(f.errors)):t.push(f)}}}if(e)throw new ut.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,r=e._parents;n&&n!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},ht=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},lt={Action:function(t){function e(e,n){t.call(this)}return ht(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(ct.Subscription)},ft=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},pt={AsyncAction:function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return ft(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),et.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending?e:et.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(lt.Action)},dt=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},vt={QueueAction:function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return dt(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(pt.AsyncAction)},bt={Scheduler:function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}()},yt=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},mt={AsyncScheduler:function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return yt(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(bt.Scheduler)},gt=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},wt=new({QueueScheduler:function(t){function e(){t.apply(this,arguments)}return gt(e,t),e}(mt.AsyncScheduler)}.QueueScheduler)(vt.QueueAction),Tt=(new n.InjectionToken("FirebaseAppName"),function(){function t(t){this.zone=t}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.run(function(){return wt.schedule.apply(wt,t)})},t}()),It=/^[a-z]+:\/\/.*/,kt={empty:{closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},Et=o(function(t,e){var n=et.root.Symbol;e.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber}),St=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},At=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=kt.empty;break;case 1:if(!n){this.destination=kt.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ot(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new Ot(this,n,r,i)}}return St(e,t),e.prototype[Et.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(ct.Subscription),_t=At,Ot=function(t){function e(e,n,r,i){t.call(this),this._parentSubscriber=e;var o,s=this;it.isFunction(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==kt.empty&&(s=Object.create(n),it.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}return St(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(At),Pt={Subscriber:_t},Nt={toSubscriber:function(t,e,n){if(t){if(t instanceof Pt.Subscriber)return t;if(t[Et.rxSubscriber])return t[Et.rxSubscriber]()}return t||e||n?new Pt.Subscriber(t,e,n):new Pt.Subscriber(kt.empty)}},xt=o(function(t,e){function n(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.getSymbolObservable=n,e.observable=n(et.root),e.$$observable=e.observable}),Ct=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=Nt.toSubscriber(t,e,n);if(r?r.call(i,this.source):i.add(this.source?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(et.root.Rx&&et.root.Rx.config&&et.root.Rx.config.Promise?e=et.root.Rx.config.Promise:et.root.Promise&&(e=et.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[xt.observable]=function(){return this},t.create=function(e){return new t(e)},t}(),Rt={Observable:Ct},Dt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lt=function(t){function e(e,n){var r=t.call(this,n)||this;return r.$ref=e,r}return Dt(e,t),e.prototype.lift=function(t){var n=new e(this.$ref);return n.source=this,n.operator=t,n.$ref=this.$ref,n},e.prototype.push=function(t){if(!this.$ref)throw new Error("No ref specified for this Observable!");return this.$ref.ref.push(t)},e.prototype.set=function(t,e){var n=this;return this._checkOperationCases(t,{stringCase:function(){return n.$ref.ref.child(t).set(e)},firebaseCase:function(){return t.set(e)},snapshotCase:function(){return t.ref.set(e)},unwrappedSnapshotCase:function(){return n.$ref.ref.child(t.$key).set(e)}})},e.prototype.update=function(t,e){var n=this;return this._checkOperationCases(t,{stringCase:function(){return n.$ref.ref.child(t).update(e)},firebaseCase:function(){return t.update(e)},snapshotCase:function(){return t.ref.update(e)},unwrappedSnapshotCase:function(){return n.$ref.ref.child(t.$key).update(e)}})},e.prototype.remove=function(t){var e=this;return t?this._checkOperationCases(t,{stringCase:function(){return e.$ref.ref.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()},unwrappedSnapshotCase:function(){return e.$ref.ref.child(t.$key).remove()}}):this.$ref.ref.remove()},e.prototype._checkOperationCases=function(t,e){if(h(t))return e.stringCase();if(l(t))return e.firebaseCase();if(f(t))return e.snapshotCase();if(p(t))return e.unwrappedSnapshotCase();throw new Error("Method requires a key, snapshot, reference, or unwrapped snapshot. Got: "+typeof t)},e}(Ct),jt={Notification:function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Rt.Observable.of(this.value);case"E":return Rt.Observable.throw(this.error);case"C":return Rt.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},Ut=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Mt=function(t,e){return void 0===e&&(e=0),this.lift(new Vt(t,e))},Vt=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new Ft(t,this.scheduler,this.delay))},t}(),Ft=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return Ut(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new qt(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(jt.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(jt.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(jt.Notification.createComplete())},e}(Pt.Subscriber),qt=function(){return function(t,e){this.notification=t,this.destination=e}}(),Wt=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Kt={ScalarObservable:function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return Wt(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;e?r.complete():(r.next(n),r.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(Rt.Observable)},Bt=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Xt={EmptyObservable:function(t){function e(e){t.call(this),this.scheduler=e}return Bt(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(Rt.Observable)},$t={isScheduler:function(t){return t&&"function"==typeof t.schedule}},Ht=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Gt={ArrayObservable:function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Ht(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];$t.isScheduler(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new Kt.ScalarObservable(t[0],r):new Xt.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e[n]),i.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(Rt.Observable)},Yt=Gt.ArrayObservable.of,zt=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Jt={OuterSubscriber:function(t){function e(){t.apply(this,arguments)}return zt(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(Pt.Subscriber)},Zt={isArrayLike:function(t){return t&&"number"==typeof t.length}},Qt={isPromise:function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},te=o(function(t,e){function n(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var s=i[o];if("entries"!==s&&"size"!==s&&r.prototype[s]===r.prototype.entries)return s}return"@@iterator"}e.symbolIteratorPonyfill=n,e.iterator=n(et.root),e.$$iterator=e.iterator}),ee=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ne={InnerSubscriber:function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return ee(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Pt.Subscriber)},re={subscribeToResult:function(t,e,n,r){var i=new ne.InnerSubscriber(t,n,r);if(i.closed)return null;if(e instanceof Rt.Observable)return e._isScalar?(i.next(e.value),i.complete(),null):e.subscribe(i);if(Zt.isArrayLike(e)){for(var o=0,s=e.length;o<s&&!i.closed;o++)i.next(e[o]);i.closed||i.complete()}else{if(Qt.isPromise(e))return e.then(function(t){i.closed||(i.next(t),i.complete())},function(t){return i.error(t)}).then(null,function(t){et.root.setTimeout(function(){throw t})}),i;if(e&&"function"==typeof e[te.iterator])for(var a=e[te.iterator]();;){var u=a.next();if(u.done){i.complete();break}if(i.next(u.value),i.closed)break}else if(e&&"function"==typeof e[xt.observable]){var c=e[xt.observable]();if("function"==typeof c.subscribe)return c.subscribe(new ne.InnerSubscriber(t,n,r));i.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var h="You provided "+(rt.isObject(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";i.error(new TypeError(h))}}return null}},ie=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},oe={},se=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&nt.isArray(t[0])&&(t=t[0].slice()),t.unshift(this),this.lift.call(new Gt.ArrayObservable(t),new ae(n))},ae=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ue(t,this.project))},t}(),ue=function(t){function e(e,n){t.call(this,e),this.project=n,this.active=0,this.values=[],this.observables=[]}return ie(e,t),e.prototype._next=function(t){this.values.push(oe),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(re.subscribeToResult(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===oe?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Jt.OuterSubscriber),ce=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},he=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new fe(t,this.concurrent))},t}(),le=he,fe=function(t){function e(e,n){t.call(this,e),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return ce(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(re.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Jt.OuterSubscriber),pe={mergeAll:function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new he(t))},MergeAllOperator:le,MergeAllSubscriber:fe},de=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(m.apply(void 0,[this].concat(t)))},ve=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},be=function(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new ye(t,e))},ye=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new me(t,this.project,this.thisArg))},t}(),me=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return ve(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Pt.Subscriber),ge={async:new mt.AsyncScheduler(pt.AsyncAction)},we=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Te=function(t,e){return void 0===e&&(e=ge.async),this.lift(new Ie(t,e))},Ie=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new ke(t,this.duration,this.scheduler))},t}(),ke=function(t){function e(e,n,r){t.call(this,e),this.duration=n,this.scheduler=r,this.hasValue=!1}return we(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(g,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(Pt.Subscriber);!function(t){t[t.Child=0]="Child",t[t.Key=1]="Key",t[t.Value=2]="Value",t[t.Priority=3]="Priority"}(tt||(tt={}));var Ee;!function(t){t[t.First=0]="First",t[t.Last=1]="Last"}(Ee||(Ee={}));var Se;!function(t){t[t.EqualTo=0]="EqualTo",t[t.StartAt=1]="StartAt",t[t.EndAt=2]="EndAt"}(Se||(Se={}));var Ae=H&&H.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},_e=function(t,e){return this.lift(new Oe(t,e))},Oe=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Pe(t,this.project,this.resultSelector))},t}(),Pe=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return Ae(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=re.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(Jt.OuterSubscriber),Ne=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xe=function(t){function e(e,n){var r=t.call(this,e)||this;return r.$ref=n,r}return Ne(e,t),e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n.$ref=this.$ref,n},e.prototype.set=function(t){if(!this.$ref)throw new Error("No ref specified for this Observable!");return this.$ref.set(t)},e.prototype.update=function(t){if(!this.$ref)throw new Error("No ref specified for this Observable!");return this.$ref.update(t)},e.prototype.remove=function(){if(!this.$ref)throw new Error("No ref specified for this Observable!");return this.$ref.remove()},e}(Ct),Ce=function(){function t(t){this.app=t,this.database=t.database()}return t.prototype.list=function(t,e){return O(y(this.app,t),e)},t.prototype.object=function(t,e){return R(y(this.app,t),e)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:$}]},t}(),Re=require("./app");(function(){(function(){var t,e=e||{},n=this,r=function(t){return void 0!==t},i=function(t){return"string"==typeof t},o=function(t){return"boolean"==typeof t},s=function(t){return"number"==typeof t},a=function(){},u=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},c=function(t){return null===t},h=function(t){return"array"==u(t)},l=function(t){var e=u(t);return"array"==e||"object"==e&&"number"==typeof t.length},f=function(t){return"function"==u(t)},p=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},d=function(t,e,n){return t.call.apply(t.bind,arguments)},v=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}},b=function(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:v).apply(null,arguments)},y=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},m=Date.now||function(){return+new Date},g=function(t,e){function n(){}n.prototype=e.prototype,t.Uc=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kg=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}},w=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,w);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};g(w,Error),w.prototype.name="CustomError";var T=function(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},I=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},k=function(t){return N.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(E,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(S,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(A,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(_,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(O,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(P,"&#0;")),t):t},E=/&/g,S=/</g,A=/>/g,_=/"/g,O=/'/g,P=/\x00/g,N=/[\x00&<>"']/,x=function(t,e){return-1!=t.indexOf(e)},C=function(t,e){return t<e?-1:t>e?1:0},R=function(t,e){e.unshift(t),w.call(this,T.apply(null,e)),e.shift()};g(R,w),R.prototype.name="AssertionError";var D=function(t,e,n,r){var i="Assertion failed";if(n){i+=": "+n;var o=r}else t&&(i+=": "+t,o=e);throw new R(""+i,o||[])},L=function(t,e,n){return t||D("",null,e,Array.prototype.slice.call(arguments,2)),t},j=function(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))},U=function(t,e,n){return s(t)||D("Expected number but got %s: %s.",[u(t),t],e,Array.prototype.slice.call(arguments,2)),t},M=function(t,e,n){i(t)||D("Expected string but got %s: %s.",[u(t),t],e,Array.prototype.slice.call(arguments,2))},V=function(t,e,n){f(t)||D("Expected function but got %s: %s.",[u(t),t],e,Array.prototype.slice.call(arguments,2))},F=function(){this.Tc="",this.df=W};F.prototype.ob=!0,F.prototype.mb=function(){return this.Tc},F.prototype.toString=function(){return"Const{"+this.Tc+"}"};var q=function(t){return t instanceof F&&t.constructor===F&&t.df===W?t.Tc:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")},W={},K=function(t){var e=new F;return e.Tc=t,e};K("");var B=function(){this.Mc="",this.ef=J};B.prototype.ob=!0,B.prototype.mb=function(){return this.Mc},B.prototype.toString=function(){return"TrustedResourceUrl{"+this.Mc+"}"};var X,$=function(t){return t instanceof B&&t.constructor===B&&t.ef===J?t.Mc:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+u(t)),"type_error:TrustedResourceUrl")},H=function(t,e){return t=G(t,e),e=new B,e.Mc=t,e},G=function(t,e){var n=q(t);if(!z.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return n.replace(Y,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof F?q(t):encodeURIComponent(String(t))})},Y=/%{(\w+)}/g,z=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i,J={},Z=Array.prototype.indexOf?function(t,e,n){return L(null!=t.length),Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,i(t))return i(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Q=Array.prototype.forEach?function(t,e,n){L(null!=t.length),Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=i(t)?t.split(""):t,s=0;s<r;s++)s in o&&e.call(n,o[s],s,t)},tt=function(t,e){for(var n=i(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)},et=Array.prototype.map?function(t,e,n){return L(null!=t.length),Array.prototype.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=Array(r),s=i(t)?t.split(""):t,a=0;a<r;a++)a in s&&(o[a]=e.call(n,s[a],a,t));return o},nt=Array.prototype.some?function(t,e,n){return L(null!=t.length),Array.prototype.some.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=i(t)?t.split(""):t,s=0;s<r;s++)if(s in o&&e.call(n,o[s],s,t))return!0;return!1},rt=function(t){t:{for(var e=Yr,n=t.length,r=i(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:i(t)?t.charAt(e):t[e]},it=function(t,e){return 0<=Z(t,e)},ot=function(t,e){var n;return(n=0<=(e=Z(t,e)))&&st(t,e),n},st=function(t,e){return L(null!=t.length),1==Array.prototype.splice.call(t,e,1).length},at=function(t,e){var n=0;tt(t,function(r,i){e.call(void 0,r,i,t)&&st(t,i)&&n++})},ut=function(t){return Array.prototype.concat.apply([],arguments)},ct=function(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]},ht=function(t){return et(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")};t:{var lt=n.navigator;if(lt){var ft=lt.userAgent;if(ft){X=ft;break t}}X=""}var pt=function(t){return x(X,t)},dt=function(t,e){for(var n in t)e.call(void 0,t[n],n,t)},vt=function(t,e){for(var n in t)if(e.call(void 0,t[n],n,t))return!0;return!1},bt=function(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n},yt=function(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n},mt=function(t){for(var e in t)return!1;return!0},gt=function(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0},wt=function(t){var e,n={};for(e in t)n[e]=t[e];return n},Tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),It=function(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<Tt.length;o++)n=Tt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}},kt=function(t){return kt[" "](t),t};kt[" "]=a;var Et,St=function(t,e){var n=Mt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)},At=pt("Opera"),_t=pt("Trident")||pt("MSIE"),Ot=pt("Edge"),Pt=Ot||_t,Nt=pt("Gecko")&&!(x(X.toLowerCase(),"webkit")&&!pt("Edge"))&&!(pt("Trident")||pt("MSIE"))&&!pt("Edge"),xt=x(X.toLowerCase(),"webkit")&&!pt("Edge"),Ct=function(){var t=n.document;return t?t.documentMode:void 0};t:{var Rt="",Dt=function(){var t=X;return Nt?/rv\:([^\);]+)(\)|;)/.exec(t):Ot?/Edge\/([\d\.]+)/.exec(t):_t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):xt?/WebKit\/(\S+)/.exec(t):At?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Dt&&(Rt=Dt?Dt[1]:""),_t){var Lt=Ct();if(null!=Lt&&Lt>parseFloat(Rt)){Et=String(Lt);break t}}Et=Rt}var jt,Ut=Et,Mt={},Vt=function(t){return St(t,function(){for(var e=0,n=I(String(Ut)).split("."),r=I(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=C(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||C(0==s[2].length,0==a[2].length)||C(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})},Ft=n.document;jt=Ft&&_t?Ct()||("CSS1Compat"==Ft.compatMode?parseInt(Ut,10):5):void 0;var qt,Wt=null,Kt=null,Bt=function(t){var e="";return Xt(t,function(t){e+=String.fromCharCode(t)}),e},Xt=function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Kt[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}$t();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}},$t=function(){if(!Wt){Wt={},Kt={};for(var t=0;65>t;t++)Wt[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Kt[Wt[t]]=t,62<=t&&(Kt["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}},Ht=function(t,e){this.Ca=-1,this.Ca=64,this.qc=n.Uint8Array?new Uint8Array(this.Ca):Array(this.Ca),this.Xc=this.pb=0,this.l=[],this.Yf=t,this.Ae=e,this.Ag=n.Int32Array?new Int32Array(64):Array(64),r(qt)||(qt=n.Int32Array?new Int32Array(Zt):Zt),this.reset()};g(Ht,function(){this.Ca=-1});for(var Gt=[],Yt=0;63>Yt;Yt++)Gt[Yt]=0;var zt=ut(128,Gt);Ht.prototype.reset=function(){this.Xc=this.pb=0,this.l=n.Int32Array?new Int32Array(this.Ae):ct(this.Ae)};var Jt=function(t){var e=t.qc;L(e.length==t.Ca);for(var n=t.Ag,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.l[0],i=0|t.l[1];var a=0|t.l[2],u=0|t.l[3],c=0|t.l[4],h=0|t.l[5],l=0|t.l[6];for(o=0|t.l[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|qt[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.l[0]=t.l[0]+r|0,t.l[1]=t.l[1]+i|0,t.l[2]=t.l[2]+a|0,t.l[3]=t.l[3]+u|0,t.l[4]=t.l[4]+c|0,t.l[5]=t.l[5]+h|0,t.l[6]=t.l[6]+l|0,t.l[7]=t.l[7]+o|0};Ht.prototype.update=function(t,e){r(e)||(e=t.length);var n=0,o=this.pb;if(i(t))for(;n<e;)this.qc[o++]=t.charCodeAt(n++),o==this.Ca&&(Jt(this),o=0);else{if(!l(t))throw Error("message must be string or array");for(;n<e;){var s=t[n++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");this.qc[o++]=s,o==this.Ca&&(Jt(this),o=0)}}this.pb=o,this.Xc+=e},Ht.prototype.digest=function(){var t=[],e=8*this.Xc;56>this.pb?this.update(zt,56-this.pb):this.update(zt,this.Ca-(this.pb-56));for(var n=63;56<=n;n--)this.qc[n]=255&e,e/=256;for(Jt(this),n=e=0;n<this.Yf;n++)for(var r=24;0<=r;r-=8)t[e++]=this.l[n]>>r&255;return t};var Zt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Qt=function(){Ht.call(this,8,te)};g(Qt,Ht);var te=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],ee=function(){this.La=this.La,this.Jc=this.Jc};ee.prototype.La=!1,ee.prototype.isDisposed=function(){return this.La},ee.prototype.kb=function(){if(this.Jc)for(;this.Jc.length;)this.Jc.shift()()};var ne=!_t||9<=Number(jt),re=_t&&!Vt("9");!xt||Vt("528"),Nt&&Vt("1.9b")||_t&&Vt("8")||At&&Vt("9.5")||xt&&Vt("528"),Nt&&!Vt("8")||_t&&Vt("9");var ie=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return n.addEventListener("test",a,e),n.removeEventListener("test",a,e),t}(),oe=function(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.Va=!1,this.Ne=!0};oe.prototype.stopPropagation=function(){this.Va=!0},oe.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Ne=!1};var se=function(t,e){oe.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.O=this.state=null,t&&this.init(t,e)};g(se,oe),se.prototype.init=function(t,e){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.currentTarget=e,e=t.relatedTarget){if(Nt){t:{try{kt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.offsetX=xt||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=xt||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.charCode=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.state=t.state,this.O=t,t.defaultPrevented&&this.preventDefault()},se.prototype.stopPropagation=function(){se.Uc.stopPropagation.call(this),this.O.stopPropagation?this.O.stopPropagation():this.O.cancelBubble=!0},se.prototype.preventDefault=function(){se.Uc.preventDefault.call(this);var t=this.O;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,re)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},se.prototype.Bf=function(){return this.O};var ae="closure_listenable_"+(1e6*Math.random()|0),ue=0,ce=function(t,e,n,r,i){this.listener=t,this.Nc=null,this.src=e,this.type=n,this.capture=!!r,this.wc=i,this.key=++ue,this.Ab=this.pc=!1},he=function(t){t.Ab=!0,t.listener=null,t.Nc=null,t.src=null,t.wc=null},le=function(t){this.src=t,this.J={},this.jc=0};le.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.J[o])||(t=this.J[o]=[],this.jc++);var s=pe(t,e,r,i);return-1<s?(e=t[s],n||(e.pc=!1)):(e=new ce(e,this.src,o,!!r,i),e.pc=n,t.push(e)),e},le.prototype.remove=function(t,e,n,r){if(!((t=t.toString())in this.J))return!1;var i=this.J[t];return-1<(e=pe(i,e,n,r))&&(he(i[e]),st(i,e),0==i.length&&(delete this.J[t],this.jc--),!0)};var fe=function(t,e){var n=e.type;n in t.J&&ot(t.J[n],e)&&(he(e),0==t.J[n].length&&(delete t.J[n],t.jc--))};le.prototype.rd=function(t,e,n,r){var i=-1;return(t=this.J[t.toString()])&&(i=pe(t,e,n,r)),-1<i?t[i]:null},le.prototype.hasListener=function(t,e){var n=r(t),i=n?t.toString():"",o=r(e);return vt(this.J,function(t){for(var r=0;r<t.length;++r)if(!(n&&t[r].type!=i||o&&t[r].capture!=e))return!0;return!1})};var pe=function(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Ab&&o.listener==e&&o.capture==!!n&&o.wc==r)return i}return-1},de="closure_lm_"+(1e6*Math.random()|0),ve={},be=0,ye=function(t,e,n,r,i){if(r&&r.once)we(t,e,n,r,i);else if(h(e))for(var o=0;o<e.length;o++)ye(t,e[o],n,r,i);else n=Pe(n),t&&t[ae]?t.listen(e,n,p(r)?!!r.capture:!!r,i):me(t,e,n,!1,r,i)},me=function(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=_e(t);if(a||(t[de]=a=new le(t)),!(n=a.add(e,n,r,s,o)).Nc){if(r=ge(),n.Nc=r,r.src=t,r.listener=n,t.addEventListener)ie||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(ke(e.toString()),r)}be++}},ge=function(){var t=Ae,e=ne?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e},we=function(t,e,n,r,i){if(h(e))for(var o=0;o<e.length;o++)we(t,e[o],n,r,i);else n=Pe(n),t&&t[ae]?_r(t,e,n,p(r)?!!r.capture:!!r,i):me(t,e,n,!0,r,i)},Te=function(t,e,n,r,i){if(h(e))for(var o=0;o<e.length;o++)Te(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=Pe(n),t&&t[ae]?t.ga.remove(String(e),n,r,i):t&&(t=_e(t))&&(e=t.rd(e,n,r,i))&&Ie(e)},Ie=function(t){if(!s(t)&&t&&!t.Ab){var e=t.src;if(e&&e[ae])fe(e.ga,t);else{var n=t.type,r=t.Nc;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent&&e.detachEvent(ke(n),r),be--,(n=_e(e))?(fe(n,t),0==n.jc&&(n.src=null,e[de]=null)):he(t)}}},ke=function(t){return t in ve?ve[t]:ve[t]="on"+t},Ee=function(t,e,n,r){var i=!0;if((t=_e(t))&&(e=t.J[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.Ab&&(o=Se(o,r),i=i&&!1!==o)}return i},Se=function(t,e){var n=t.listener,r=t.wc||t.src;return t.pc&&Ie(t),n.call(r,e)},Ae=function(t,e){if(t.Ab)return!0;if(!ne){if(!e)t:{e=["window","event"];for(var r=n,i=0;i<e.length;i++)if(null==(r=r[e[i]])){e=null;break t}e=r}if(i=e,e=new se(i,this),r=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.currentTarget;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;!e.Va&&0<=o;o--){e.currentTarget=i[o];var s=Ee(i[o],t,!0,e);r=r&&s}for(o=0;!e.Va&&o<i.length;o++)e.currentTarget=i[o],s=Ee(i[o],t,!1,e),r=r&&s}return r}return Se(t,new se(e,this))},_e=function(t){return(t=t[de])instanceof le?t:null},Oe="__closure_events_fn_"+(1e9*Math.random()>>>0),Pe=function(t){return L(t,"Listener can not be null."),f(t)?t:(L(t.handleEvent,"An object listener must have handleEvent method."),t[Oe]||(t[Oe]=function(e){return t.handleEvent(e)}),t[Oe])},Ne=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,xe=function(){this.xa="",this.cf=je};xe.prototype.ob=!0,xe.prototype.mb=function(){return this.xa},xe.prototype.toString=function(){return"SafeUrl{"+this.xa+"}"};var Ce=function(t){return t instanceof xe&&t.constructor===xe&&t.cf===je?t.xa:(j("expected object of type SafeUrl, got '"+t+"' of type "+u(t)),"type_error:SafeUrl")},De=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Le=function(t){return t instanceof xe?t:(t=t.ob?t.mb():String(t),De.test(t)||(t="about:invalid#zClosurez"),Ue(t))},je={},Ue=function(t){var e=new xe;return e.xa=t,e};Ue("about:blank");var Me=function(t){var e=[];return Fe(new Ve,t,e),e.join("")},Ve=function(){this.Oc=void 0},Fe=function(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(h(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),i=r[o],Fe(t,t.Oc?t.Oc.call(r,String(o),i):i,n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),o="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(i=e[r])&&(n.push(o),Ke(r,n),n.push(":"),Fe(t,t.Oc?t.Oc.call(e,r,i):i,n),o=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Ke(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}},qe={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},We=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ke=function(t,e){e.push('"',t.replace(We,function(t){var e=qe[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),qe[t]=e),e}),'"')},Be=function(){};Be.prototype.fe=null;var Xe,$e=function(t){return t.fe||(t.fe=t.zd())},He=function(){};g(He,Be),He.prototype.rc=function(){var t=Ge(this);return t?new ActiveXObject(t):new XMLHttpRequest},He.prototype.zd=function(){var t={};return Ge(this)&&(t[0]=!0,t[1]=!0),t};var Ge=function(t){if(!t.ze&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.ze=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.ze};Xe=new He;var Ye=function(){};g(Ye,Be),Ye.prototype.rc=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ze;throw Error("Unsupported browser")},Ye.prototype.zd=function(){return{}};var ze=function(){this.oa=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.oa.onload=b(this.Ff,this),this.oa.onerror=b(this.ue,this),this.oa.onprogress=b(this.Gf,this),this.oa.ontimeout=b(this.Hf,this)};(t=ze.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.oa.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.oa.send(t)}else this.oa.send()},t.abort=function(){this.oa.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.oa.contentType:""},t.Ff=function(){this.status=200,this.responseText=this.oa.responseText,Je(this,4)},t.ue=function(){this.status=500,this.responseText="",Je(this,4)},t.Hf=function(){this.ue()},t.Gf=function(){this.status=200,Je(this,1)};var Je=function(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()};ze.prototype.getAllResponseHeaders=function(){return"content-type: "+this.oa.contentType};var Ze=function(t,e,n){this.Uf=n,this.qf=t,this.ig=e,this.Ic=0,this.xc=null};Ze.prototype.get=function(){if(0<this.Ic){this.Ic--;var t=this.xc;this.xc=t.next,t.next=null}else t=this.qf();return t},Ze.prototype.put=function(t){this.ig(t),this.Ic<this.Uf&&(this.Ic++,t.next=this.xc,this.xc=t)};var Qe,tn=function(t){n.setTimeout(function(){throw t},0)},en=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!pt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!pt("Trident")&&!pt("MSIE")){var e=new t,i={},o=i;return e.port1.onmessage=function(){if(r(i.next)){var t=(i=i.next).je;i.je=null,t()}},function(t){o.next={je:t},o=o.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}},nn=function(){this.bd=this.gb=null},rn=new Ze(function(){return new on},function(t){t.reset()},100);nn.prototype.add=function(t,e){var n=rn.get();n.set(t,e),this.bd?this.bd.next=n:(L(!this.gb),this.gb=n),this.bd=n},nn.prototype.remove=function(){var t=null;return this.gb&&(t=this.gb,this.gb=this.gb.next,this.gb||(this.bd=null),t.next=null),t};var on=function(){this.next=this.scope=this.qd=null};on.prototype.set=function(t,e){this.qd=t,this.scope=e,this.next=null},on.prototype.reset=function(){this.next=this.scope=this.qd=null};var sn,an=function(t,e){sn||un(),cn||(sn(),cn=!0),hn.add(t,e)},un=function(){if(-1!=String(n.Promise).indexOf("[native code]")){var t=n.Promise.resolve(void 0);sn=function(){t.then(ln)}}else sn=function(){var t=ln;!f(n.setImmediate)||n.Window&&n.Window.prototype&&!pt("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(Qe||(Qe=en()),Qe(t)):n.setImmediate(t)}},cn=!1,hn=new nn,ln=function(){for(var t;t=hn.remove();){try{t.qd.call(t.scope)}catch(t){tn(t)}rn.put(t)}cn=!1},fn=function(t){return p(t)?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):void 0===t?"undefined":null===t?"null":typeof t},pn=function(t){return(t=t&&t.ownerDocument)&&(t.defaultView||t.parentWindow)||n},dn=!_t||9<=Number(jt);!Nt&&!_t||_t&&9<=Number(jt)||Nt&&Vt("1.9.1"),_t&&Vt("9");var vn=function(){this.xa="",this.bf=yn};vn.prototype.ob=!0,vn.prototype.mb=function(){return this.xa},vn.prototype.toString=function(){return"SafeHtml{"+this.xa+"}"};var bn=function(t){return t instanceof vn&&t.constructor===vn&&t.bf===yn?t.xa:(j("expected object of type SafeHtml, got '"+t+"' of type "+u(t)),"type_error:SafeHtml")},yn={};vn.prototype.Of=function(t){return this.xa=t,this};var mn=function(t,e){var n=pn(t);void 0!==n.HTMLScriptElement&&void 0!==n.Element&&L(t&&(t instanceof n.HTMLScriptElement||!(t instanceof n.Element)),"Argument is not a HTMLScriptElement (or a non-Element mock); got: %s",fn(t)),t.src=$(e)},gn=function(t){var e=document;return i(t)?e.getElementById(t):t},wn=function(t,e){dt(e,function(e,n){e&&e.ob&&(e=e.mb()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Tn.hasOwnProperty(n)?t.setAttribute(Tn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})},Tn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},In=function(t,e,n){var r=arguments,o=document,s=String(r[0]),a=r[1];if(!dn&&a&&(a.name||a.type)){if(s=["<",s],a.name&&s.push(' name="',k(a.name),'"'),a.type){s.push(' type="',k(a.type),'"');var u={};It(u,a),delete u.type,a=u}s.push(">"),s=s.join("")}return s=o.createElement(s),a&&(i(a)?s.className=a:h(a)?s.className=a.join(" "):wn(s,a)),2<r.length&&kn(o,s,r),s},kn=function(t,e,n){function r(n){n&&e.appendChild(i(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var s=n[o];!l(s)||p(s)&&0<s.nodeType?r(s):Q(En(s)?ct(s):s,r)}},En=function(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1},Sn=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},An=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}},_n=function(t,e){if(this.aa=0,this.za=void 0,this.jb=this.ua=this.w=null,this.vc=this.od=!1,t!=a)try{var n=this;t.call(e,function(t){Fn(n,2,t)},function(t){if(!(t instanceof Yn))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Fn(n,3,t)})}catch(t){Fn(this,3,t)}},On=function(){this.next=this.context=this.rb=this.Ta=this.child=null,this.Gb=!1};On.prototype.reset=function(){this.context=this.rb=this.Ta=this.child=null,this.Gb=!1};var Pn=new Ze(function(){return new On},function(t){t.reset()},100),Nn=function(t,e,n){var r=Pn.get();return r.Ta=t,r.rb=e,r.context=n,r},xn=function(t){if(t instanceof _n)return t;var e=new _n(a);return Fn(e,2,t),e},Cn=function(t){return new _n(function(e,n){n(t)})},Rn=function(t,e,n){qn(t,e,n,null)||an(y(e,t))},Dn=function(t){return new _n(function(e,n){var r=t.length,i=[];if(r)for(var o,s=0;s<t.length;s++)o=t[s],Rn(o,y(function(t,n){r--,i[t]=n,0==r&&e(i)},s),function(t){n(t)});else e(i)})},Ln=function(t){return new _n(function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{zf:!0,value:o}:{zf:!1,reason:o},0==n&&e(r)},s=0;s<t.length;s++)i=t[s],Rn(i,y(o,s,!0),y(o,s,!1));else e(r)})};_n.prototype.then=function(t,e,n){return null!=t&&V(t,"opt_onFulfilled should be a function."),null!=e&&V(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Vn(this,f(t)?t:null,f(e)?e:null,n)},Sn(_n);var jn=function(t,e){return e=Nn(e,e,void 0),e.Gb=!0,Mn(t,e),t};_n.prototype.f=function(t,e){return Vn(this,null,t,e)},_n.prototype.cancel=function(t){0==this.aa&&an(function(){var e=new Yn(t);Un(this,e)},this)};var Un=function(t,e){if(0==t.aa)if(t.w){var n=t.w;if(n.ua){for(var r=0,i=null,o=null,s=n.ua;s&&(s.Gb||(r++,s.child==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(0==n.aa&&1==r?Un(n,e):(o?(r=o,L(n.ua),L(null!=r),r.next==n.jb&&(n.jb=r),r.next=r.next.next):Bn(n),Xn(n,i,3,e)))}t.w=null}else Fn(t,3,e)},Mn=function(t,e){t.ua||2!=t.aa&&3!=t.aa||Kn(t),L(null!=e.Ta),t.jb?t.jb.next=e:t.ua=e,t.jb=e},Vn=function(t,e,n,i){var o=Nn(null,null,null);return o.child=new _n(function(t,s){o.Ta=e?function(n){try{var r=e.call(i,n);t(r)}catch(t){s(t)}}:t,o.rb=n?function(e){try{var o=n.call(i,e);!r(o)&&e instanceof Yn?s(e):t(o)}catch(t){s(t)}}:s}),o.child.w=t,Mn(t,o),o.child};_n.prototype.wg=function(t){L(1==this.aa),this.aa=0,Fn(this,2,t)},_n.prototype.xg=function(t){L(1==this.aa),this.aa=0,Fn(this,3,t)};var Fn=function(t,e,n){0==t.aa&&(t===n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.aa=1,qn(n,t.wg,t.xg,t)||(t.za=n,t.aa=e,t.w=null,Kn(t),3!=e||n instanceof Yn||Hn(t,n)))},qn=function(t,e,n,r){if(t instanceof _n)return null!=e&&V(e,"opt_onFulfilled should be a function."),null!=n&&V(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Mn(t,Nn(e||a,n||null,r)),!0;if(An(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(f(i))return Wn(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1},Wn=function(t,e,n,r,i){var o=!1,s=function(t){o||(o=!0,r.call(i,t))};try{e.call(t,function(t){o||(o=!0,n.call(i,t))},s)}catch(t){s(t)}},Kn=function(t){t.od||(t.od=!0,an(t.vf,t))},Bn=function(t){var e=null;return t.ua&&(e=t.ua,t.ua=e.next,e.next=null),t.ua||(t.jb=null),null!=e&&L(null!=e.Ta),e};_n.prototype.vf=function(){for(var t;t=Bn(this);)Xn(this,t,this.aa,this.za);this.od=!1};var Xn=function(t,e,n,r){if(3==n&&e.rb&&!e.Gb)for(;t&&t.vc;t=t.w)t.vc=!1;if(e.child)e.child.w=null,$n(e,n,r);else try{e.Gb?e.Ta.call(e.context):$n(e,n,r)}catch(t){Gn.call(null,t)}Pn.put(e)},$n=function(t,e,n){2==e?t.Ta.call(t.context,n):t.rb&&t.rb.call(t.context,n)},Hn=function(t,e){t.vc=!0,an(function(){t.vc&&Gn.call(null,e)})},Gn=tn,Yn=function(t){w.call(this,t)};g(Yn,w),Yn.prototype.name="cancel";var zn=function(t,e){this.Qc=[],this.He=t,this.ne=e||null,this.Ob=this.lb=!1,this.za=void 0,this.Yd=this.de=this.fd=!1,this.Yc=0,this.w=null,this.gd=0};zn.prototype.cancel=function(t){if(this.lb)this.za instanceof zn&&this.za.cancel();else{if(this.w){var e=this.w;delete this.w,t?e.cancel(t):(e.gd--,0>=e.gd&&e.cancel())}this.He?this.He.call(this.ne,this):this.Yd=!0,this.lb||Qn(this,new sr)}},zn.prototype.le=function(t,e){this.fd=!1,Jn(this,t,e)};var Jn=function(t,e,n){t.lb=!0,t.za=n,t.Ob=!e,ir(t)},Zn=function(t){if(t.lb){if(!t.Yd)throw new or;t.Yd=!1}};zn.prototype.callback=function(t){Zn(this),tr(t),Jn(this,!0,t)};var Qn=function(t,e){Zn(t),tr(e),Jn(t,!1,e)},tr=function(t){L(!(t instanceof zn),"An execution sequence may not be initiated with a blocking Deferred.")},er=function(t,e){nr(t,null,e,void 0)},nr=function(t,e,n,r){L(!t.de,"Blocking Deferreds can not be re-used"),t.Qc.push([e,n,r]),t.lb&&ir(t)};zn.prototype.then=function(t,e,n){var r,i,o=new _n(function(t,e){r=t,i=e});return nr(this,r,function(t){t instanceof sr?o.cancel():i(t)}),o.then(t,e,n)},Sn(zn);var rr=function(t){return nt(t.Qc,function(t){return f(t[1])})},ir=function(t){if(t.Yc&&t.lb&&rr(t)){var e=t.Yc,i=ur[e];i&&(n.clearTimeout(i.Pb),delete ur[e]),t.Yc=0}t.w&&(t.w.gd--,delete t.w),e=t.za;for(var o=i=!1;t.Qc.length&&!t.fd;){var s=t.Qc.shift(),a=s[0],u=s[1];if(s=s[2],a=t.Ob?u:a)try{var c=a.call(s||t.ne,e);r(c)&&(t.Ob=t.Ob&&(c==e||c instanceof Error),t.za=e=c),(An(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(o=!0,t.fd=!0)}catch(n){e=n,t.Ob=!0,rr(t)||(i=!0)}}t.za=e,o&&(c=b(t.le,t,!0),o=b(t.le,t,!1),e instanceof zn?(nr(e,c,o),e.de=!0):e.then(c,o)),i&&(e=new ar(e),ur[e.Pb]=e,t.Yc=e.Pb)},or=function(){w.call(this)};g(or,w),or.prototype.message="Deferred has already fired",or.prototype.name="AlreadyCalledError";var sr=function(){w.call(this)};g(sr,w),sr.prototype.message="Deferred was canceled",sr.prototype.name="CanceledError";var ar=function(t){this.Pb=n.setTimeout(b(this.vg,this),0),this.ba=t};ar.prototype.vg=function(){throw L(ur[this.Pb],"Cannot throw an error that is not scheduled."),delete ur[this.Pb],this.ba};var ur={},cr=function(t){var e={},n=e.document||document,r=$(t),i=document.createElement("SCRIPT"),o={Oe:i,ic:void 0},s=new zn(lr,o),a=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(a=window.setTimeout(function(){fr(i,!0),Qn(s,new pr(1,"Timeout reached for loading script "+r))},u),o.ic=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(fr(i,e.Lg||!1,a),s.callback(null))},i.onerror=function(){fr(i,!0,a),Qn(s,new pr(0,"Error while loading script "+r))},o=e.attributes||{},It(o,{type:"text/javascript",charset:"UTF-8"}),wn(i,o),mn(i,t),hr(n).appendChild(i),s},hr=function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement},lr=function(){if(this&&this.Oe){var t=this.Oe;t&&"SCRIPT"==t.tagName&&fr(t,!0,this.ic)}},fr=function(t,e,r){null!=r&&n.clearTimeout(r),t.onload=a,t.onerror=a,t.onreadystatechange=a,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)},pr=function(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),w.call(this,n),this.code=t};g(pr,w);var dr=function(t,e,n,r,i){this.reset(t,e,n,r,i)};dr.prototype.pe=null;var vr=0;dr.prototype.reset=function(t,e,n,r,i){"number"==typeof i||vr++,r||m(),this.Ub=t,this.Xf=e,delete this.pe},dr.prototype.Qe=function(t){this.Ub=t};var br=function(t){this.Fe=t,this.ve=this.jd=this.Ub=this.w=null},yr=function(t,e){this.name=t,this.value=e};yr.prototype.toString=function(){return this.name};var mr=new yr("SEVERE",1e3),gr=new yr("INFO",800),wr=new yr("CONFIG",700),Tr=new yr("FINE",500);br.prototype.getName=function(){return this.Fe},br.prototype.getParent=function(){return this.w},br.prototype.Qe=function(t){this.Ub=t};var Ir=function(t){return t.Ub?t.Ub:t.w?Ir(t.w):(j("Root logger has no level set."),null)};br.prototype.log=function(t,e,r){if(t.value>=Ir(this).value)for(f(e)&&(e=e()),t=new dr(t,String(e),this.Fe),r&&(t.pe=r),r="log:"+t.Xf,(e=n.console)&&e.timeStamp&&e.timeStamp(r),(e=n.msWriteProfilerMark)&&e(r),r=this;r;){var i=r,o=t;if(i.ve)for(var s=0;e=i.ve[s];s++)e(o);r=r.getParent()}},br.prototype.info=function(t,e){this.log(gr,t,e)},br.prototype.config=function(t,e){this.log(wr,t,e)};var kr={},Er=null,Sr=function(t){Er||(Er=new br(""),kr[""]=Er,Er.Qe(wr));var e;if(!(e=kr[t])){e=new br(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Sr(t.substr(0,n))).jd||(n.jd={}),n.jd[r]=e,e.w=n,kr[t]=e}return e},Ar=function(){ee.call(this),this.ga=new le(this),this.gf=this,this.Hd=null};g(Ar,ee),Ar.prototype[ae]=!0,(t=Ar.prototype).addEventListener=function(t,e,n,r){ye(this,t,e,n,r)},t.removeEventListener=function(t,e,n,r){Te(this,t,e,n,r)},t.dispatchEvent=function(t){Pr(this);var e=this.Hd;if(e)for(var n=[],r=1;e;e=e.Hd)n.push(e),L(1e3>++r,"infinite loop");if(e=this.gf,r=t.type||t,i(t))t=new oe(t,e);else if(t instanceof oe)t.target=t.target||e;else{var o=t;t=new oe(r,e),It(t,o)}if(o=!0,n)for(var s=n.length-1;!t.Va&&0<=s;s--){var a=t.currentTarget=n[s];o=Or(a,r,!0,t)&&o}if(t.Va||(a=t.currentTarget=e,o=Or(a,r,!0,t)&&o,t.Va||(o=Or(a,r,!1,t)&&o)),n)for(s=0;!t.Va&&s<n.length;s++)a=t.currentTarget=n[s],o=Or(a,r,!1,t)&&o;return o},t.kb=function(){if(Ar.Uc.kb.call(this),this.ga){var t,e=this.ga;for(t in e.J){for(var n=e.J[t],r=0;r<n.length;r++)0,he(n[r]);delete e.J[t],e.jc--}}this.Hd=null},t.listen=function(t,e,n,r){return Pr(this),this.ga.add(String(t),e,!1,n,r)};var _r=function(t,e,n,r,i){t.ga.add(String(e),n,!0,r,i)},Or=function(t,e,n,r){if(!(e=t.ga.J[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Ab&&s.capture==n){var a=s.listener,u=s.wc||s.src;s.pc&&fe(t.ga,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Ne};Ar.prototype.rd=function(t,e,n,r){return this.ga.rd(String(t),e,n,r)},Ar.prototype.hasListener=function(t,e){return this.ga.hasListener(r(t)?String(t):void 0,e)};var Pr=function(t){L(t.ga,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},Nr="StopIteration"in n?n.StopIteration:{message:"StopIteration",stack:""},xr=function(){};xr.prototype.next=function(){throw Nr},xr.prototype.ff=function(){return this};var Cr=function(t,e){t&&t.log(Tr,e,void 0)},Rr=function(t,e){this.ja={},this.A=[],this.fb=this.s=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.addAll(t)};(t=Rr.prototype).ha=function(){Dr(this);for(var t=[],e=0;e<this.A.length;e++)t.push(this.ja[this.A[e]]);return t},t.va=function(){return Dr(this),this.A.concat()},t.Ib=function(t){return Lr(this.ja,t)},t.clear=function(){this.ja={},this.fb=this.s=this.A.length=0},t.remove=function(t){return!!Lr(this.ja,t)&&(delete this.ja[t],this.s--,this.fb++,this.A.length>2*this.s&&Dr(this),!0)};var Dr=function(t){if(t.s!=t.A.length){for(var e=0,n=0;e<t.A.length;){var r=t.A[e];Lr(t.ja,r)&&(t.A[n++]=r),e++}t.A.length=n}if(t.s!=t.A.length){var i={};for(n=e=0;e<t.A.length;)r=t.A[e],Lr(i,r)||(t.A[n++]=r,i[r]=1),e++;t.A.length=n}};(t=Rr.prototype).get=function(t,e){return Lr(this.ja,t)?this.ja[t]:e},t.set=function(t,e){Lr(this.ja,t)||(this.s++,this.A.push(t),this.fb++),this.ja[t]=e},t.addAll=function(t){if(t instanceof Rr){var e=t.va();t=t.ha()}else e=yt(t),t=bt(t);for(var n=0;n<e.length;n++)this.set(e[n],t[n])},t.forEach=function(t,e){for(var n=this.va(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},t.clone=function(){return new Rr(this)},t.ff=function(t){Dr(this);var e=0,n=this.fb,r=this,i=new xr;return i.next=function(){if(n!=r.fb)throw Error("The map has changed since the iterator was created");if(e>=r.A.length)throw Nr;var i=r.A[e++];return t?i:r.ja[i]},i};var Lr=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},jr=function(t){if(t.ha&&"function"==typeof t.ha)return t.ha();if(i(t))return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return bt(t)},Ur=function(t){if(t.va&&"function"==typeof t.va)return t.va();if(!t.ha||"function"!=typeof t.ha){if(l(t)||i(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}return yt(t)}},Mr=function(t,e,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,n);else if(l(t)||i(t))Q(t,e,n);else for(var r=Ur(t),o=jr(t),s=o.length,a=0;a<s;a++)e.call(n,o[a],r&&r[a],t)},Vr=function(t,e,r){if(f(t))r&&(t=b(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)},Fr=function(t){var e=null;return new _n(function(n,r){-1==(e=Vr(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).f(function(t){throw n.clearTimeout(e),t})},qr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Wr=function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}},Kr=function(t){Ar.call(this),this.headers=new Rr,this.dd=t||null,this.Ba=!1,this.cd=this.b=null,this.Tb=this.Ee=this.Fc="",this.Pa=this.wd=this.Ac=this.nd=!1,this.Cb=0,this.Vc=null,this.Pc="",this.Zc=this.dg=this.af=!1};g(Kr,Ar);var Br=Kr.prototype,Xr=Sr("goog.net.XhrIo");Br.P=Xr;var $r=/^https?$/i,Hr=["POST","PUT"];Kr.prototype.send=function(t,e,r,i){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Fc+"; newUri="+t);e=e?e.toUpperCase():"GET",this.Fc=t,this.Tb="",this.Ee=e,this.nd=!1,this.Ba=!0,this.b=this.dd?this.dd.rc():Xe.rc(),this.cd=$e(this.dd?this.dd:Xe),this.b.onreadystatechange=b(this.Ke,this),this.dg&&"onprogress"in this.b&&(this.b.onprogress=b(function(t){this.Je(t,!0)},this),this.b.upload&&(this.b.upload.onprogress=b(this.Je,this)));try{Cr(this.P,ii(this,"Opening Xhr")),this.wd=!0,this.b.open(e,String(t),!0),this.wd=!1}catch(t){return Cr(this.P,ii(this,"Error opening Xhr: "+t.message)),void this.ba(5,t)}t=r||"";var o=this.headers.clone();i&&Mr(i,function(t,e){o.set(e,t)}),i=rt(o.va()),r=n.FormData&&t instanceof n.FormData,!it(Hr,e)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.b.setRequestHeader(e,t)},this),this.Pc&&(this.b.responseType=this.Pc),"withCredentials"in this.b&&this.b.withCredentials!==this.af&&(this.b.withCredentials=this.af);try{ti(this),0<this.Cb&&(this.Zc=Gr(this.b),Cr(this.P,ii(this,"Will abort after "+this.Cb+"ms if incomplete, xhr2 "+this.Zc)),this.Zc?(this.b.timeout=this.Cb,this.b.ontimeout=b(this.ic,this)):this.Vc=Vr(this.ic,this.Cb,this)),Cr(this.P,ii(this,"Sending request")),this.Ac=!0,this.b.send(t),this.Ac=!1}catch(t){Cr(this.P,ii(this,"Send error: "+t.message)),this.ba(5,t)}};var Gr=function(t){return _t&&Vt(9)&&s(t.timeout)&&r(t.ontimeout)},Yr=function(t){return"content-type"==t.toLowerCase()};Kr.prototype.ic=function(){void 0!==e&&this.b&&(this.Tb="Timed out after "+this.Cb+"ms, aborting",Cr(this.P,ii(this,this.Tb)),this.dispatchEvent("timeout"),this.abort(8))},Kr.prototype.ba=function(t,e){this.Ba=!1,this.b&&(this.Pa=!0,this.b.abort(),this.Pa=!1),this.Tb=e,zr(this),Qr(this)};var zr=function(t){t.nd||(t.nd=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))};Kr.prototype.abort=function(){this.b&&this.Ba&&(Cr(this.P,ii(this,"Aborting")),this.Ba=!1,this.Pa=!0,this.b.abort(),this.Pa=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Qr(this))},Kr.prototype.kb=function(){this.b&&(this.Ba&&(this.Ba=!1,this.Pa=!0,this.b.abort(),this.Pa=!1),Qr(this,!0)),Kr.Uc.kb.call(this)},Kr.prototype.Ke=function(){this.isDisposed()||(this.wd||this.Ac||this.Pa?Jr(this):this.$f())},Kr.prototype.$f=function(){Jr(this)};var Jr=function(t){if(t.Ba&&void 0!==e)if(t.cd[1]&&4==ei(t)&&2==ni(t))Cr(t.P,ii(t,"Local request error detected and ignored"));else if(t.Ac&&4==ei(t))Vr(t.Ke,0,t);else if(t.dispatchEvent("readystatechange"),4==ei(t)){Cr(t.P,ii(t,"Request complete")),t.Ba=!1;try{var r=ni(t);t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}var o;if(!(o=i)){var s;if(s=0===r){var a=String(t.Fc).match(qr)[1]||null;if(!a&&n.self&&n.self.location){var u=n.self.location.protocol;a=u.substr(0,u.length-1)}s=!$r.test(a?a.toLowerCase():"")}o=s}if(o)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ei(t)?t.b.statusText:""}catch(e){Cr(t.P,"Can not get status: "+e.message),c=""}t.Tb=c+" ["+ni(t)+"]",zr(t)}}finally{Qr(t)}}};Kr.prototype.Je=function(t,e){L("progress"===t.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(Zr(t,"progress")),this.dispatchEvent(Zr(t,e?"downloadprogress":"uploadprogress"))};var Zr=function(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}},Qr=function(t,e){if(t.b){ti(t);var n=t.b,r=t.cd[0]?a:null;t.b=null,t.cd=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.P)&&t.log(mr,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},ti=function(t){t.b&&t.Zc&&(t.b.ontimeout=null),s(t.Vc)&&(n.clearTimeout(t.Vc),t.Vc=null)},ei=function(t){return t.b?t.b.readyState:0},ni=function(t){try{return 2<ei(t)?t.b.status:-1}catch(t){return-1}},ri=function(t){try{return t.b?t.b.responseText:""}catch(e){return Cr(t.P,"Can not get responseText: "+e.message),""}};Kr.prototype.getResponse=function(){try{if(!this.b)return null;if("response"in this.b)return this.b.response;switch(this.Pc){case"":case"text":return this.b.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.b)return this.b.mozResponseArrayBuffer}var t=this.P;return t&&t.log(mr,"Response type "+this.Pc+" is not supported on this browser",void 0),null}catch(t){return Cr(this.P,"Can not get response: "+t.message),null}},Kr.prototype.getResponseHeader=function(t){if(this.b&&4==ei(this))return null===(t=this.b.getResponseHeader(t))?void 0:t},Kr.prototype.getAllResponseHeaders=function(){return this.b&&4==ei(this)?this.b.getAllResponseHeaders():""};var ii=function(t,e){return e+" ["+t.Ee+" "+t.Fc+" "+ni(t)+"]"},oi=function(t,e){if(this.pa=this.cb=this.qa="",this.tb=null,this.Oa=this.Fa="",this.da=this.Sf=!1,t instanceof oi){this.da=r(e)?e:t.da,si(this,t.qa);var n=t.cb;pi(this),this.cb=n,ai(this,t.pa),ui(this,t.tb),ci(this,t.Fa),hi(this,t.ea.clone()),t=t.Oa,pi(this),this.Oa=t}else t&&(n=String(t).match(qr))?(this.da=!!e,si(this,n[1]||"",!0),t=n[2]||"",pi(this),this.cb=bi(t),ai(this,n[3]||"",!0),ui(this,n[4]),ci(this,n[5]||"",!0),hi(this,n[6]||"",!0),t=n[7]||"",pi(this),this.Oa=bi(t)):(this.da=!!e,this.ea=new Ei(null,0,this.da))};oi.prototype.toString=function(){var t=[],e=this.qa;e&&t.push(yi(e,gi,!0),":");var n=this.pa;return(n||"file"==e)&&(t.push("//"),(e=this.cb)&&t.push(yi(e,gi,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.tb)&&t.push(":",String(n))),(n=this.Fa)&&(this.pa&&"/"!=n.charAt(0)&&t.push("/"),t.push(yi(n,"/"==n.charAt(0)?Ti:wi,!0))),(n=this.ea.toString())&&t.push("?",n),(n=this.Oa)&&t.push("#",yi(n,ki)),t.join("")},oi.prototype.resolve=function(t){var e=this.clone(),n=!!t.qa;if(n?si(e,t.qa):n=!!t.cb,n){var r=t.cb;pi(e),e.cb=r}else n=!!t.pa;if(n?ai(e,t.pa):n=null!=t.tb,r=t.Fa,n)ui(e,t.tb);else if(n=!!t.Fa){if("/"!=r.charAt(0))if(this.pa&&!this.Fa)r="/"+r;else{var i=e.Fa.lastIndexOf("/");-1!=i&&(r=e.Fa.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(x(i,"./")||x(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?ci(e,r):n=""!==t.ea.toString(),n?hi(e,t.ea.clone()):n=!!t.Oa,n&&(t=t.Oa,pi(e),e.Oa=t),e},oi.prototype.clone=function(){return new oi(this)};var si=function(t,e,n){pi(t),t.qa=n?bi(e,!0):e,t.qa&&(t.qa=t.qa.replace(/:$/,""))},ai=function(t,e,n){pi(t),t.pa=n?bi(e,!0):e},ui=function(t,e){if(pi(t),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.tb=e}else t.tb=null},ci=function(t,e,n){pi(t),t.Fa=n?bi(e,!0):e},hi=function(t,e,n){pi(t),e instanceof Ei?(t.ea=e,t.ea.Wd(t.da)):(n||(e=yi(e,Ii)),t.ea=new Ei(e,0,t.da))},li=function(t,e,n){pi(t),t.ea.set(e,n)},fi=function(t,e){return t.ea.get(e)};oi.prototype.removeParameter=function(t){return pi(this),this.ea.remove(t),this};var pi=function(t){if(t.Sf)throw Error("Tried to modify a read-only Uri")};oi.prototype.Wd=function(t){return this.da=t,this.ea&&this.ea.Wd(t),this};var di=function(t){return t instanceof oi?t.clone():new oi(t,void 0)},vi=function(t,e){var n=new oi(null,void 0);return si(n,"https"),t&&ai(n,t),e&&ci(n,e),n},bi=function(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""},yi=function(t,e,n){return i(t)?(t=encodeURI(t).replace(e,mi),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null},mi=function(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)},gi=/[#\/\?@]/g,wi=/[\#\?:]/g,Ti=/[\#\?]/g,Ii=/[\#\?@]/g,ki=/#/g,Ei=function(t,e,n){this.s=this.m=null,this.U=t||null,this.da=!!n},Si=function(t){t.m||(t.m=new Rr,t.s=0,t.U&&Wr(t.U,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))},Ai=function(t){var e=Ur(t);if(void 0===e)throw Error("Keys are undefined");var n=new Ei(null,0,void 0);t=jr(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];h(o)?_i(n,i,o):n.add(i,o)}return n};(t=Ei.prototype).add=function(t,e){Si(this),this.U=null,t=this.ca(t);var n=this.m.get(t);return n||this.m.set(t,n=[]),n.push(e),this.s=U(this.s)+1,this},t.remove=function(t){return Si(this),t=this.ca(t),!!this.m.Ib(t)&&(this.U=null,this.s=U(this.s)-this.m.get(t).length,this.m.remove(t))},t.clear=function(){this.m=this.U=null,this.s=0},t.Ib=function(t){return Si(this),t=this.ca(t),this.m.Ib(t)},t.forEach=function(t,e){Si(this),this.m.forEach(function(n,r){Q(n,function(n){t.call(e,n,r,this)},this)},this)},t.va=function(){Si(this);for(var t=this.m.ha(),e=this.m.va(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.ha=function(t){Si(this);var e=[];if(i(t))this.Ib(t)&&(e=ut(e,this.m.get(this.ca(t))));else{t=this.m.ha();for(var n=0;n<t.length;n++)e=ut(e,t[n])}return e},t.set=function(t,e){return Si(this),this.U=null,t=this.ca(t),this.Ib(t)&&(this.s=U(this.s)-this.m.get(t).length),this.m.set(t,[e]),this.s=U(this.s)+1,this},t.get=function(t,e){return 0<(t=t?this.ha(t):[]).length?String(t[0]):e};var _i=function(t,e,n){t.remove(e),0<n.length&&(t.U=null,t.m.set(t.ca(e),ct(n)),t.s=U(t.s)+n.length)};(t=Ei.prototype).toString=function(){if(this.U)return this.U;if(!this.m)return"";for(var t=[],e=this.m.va(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.ha(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.U=t.join("&")},t.clone=function(){var t=new Ei;return t.U=this.U,this.m&&(t.m=this.m.clone(),t.s=this.s),t},t.ca=function(t){return t=String(t),this.da&&(t=t.toLowerCase()),t},t.Wd=function(t){t&&!this.da&&(Si(this),this.U=null,this.m.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),_i(this,n,t))},this)),this.da=t},t.extend=function(t){for(var e=0;e<arguments.length;e++)Mr(arguments[e],function(t,e){this.add(e,t)},this)};var Oi,Pi={Gg:{pd:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Sd:"https://securetoken.googleapis.com/v1/token",id:"p"},Hg:{pd:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Sd:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Ig:{pd:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Sd:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}},Ni=function(t){for(var e in Pi)if(Pi[e].id===t)return t=Pi[e],{firebaseEndpoint:t.pd,secureTokenEndpoint:t.Sd};return null};Oi=Ni("__EID__")?"__EID__":void 0;var xi=function(){var t=Yi();return _t&&!!jt&&11==jt||/Edge\/\d+/.test(t)},Ci=function(){return n.window&&n.window.location.href||""},Ri=function(t,e){e=e||n.window;var r="about:blank";t&&(r=Ce(Le(t))),e.location.href=r},Di=function(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):h(t[n])?gt(t[n],e[n])||r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Di(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r},Li=function(){var t=Yi();return!((t="Chrome"!=Hi(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||_t&&jt&&!(9<jt))},ji=function(t){return!!((t=(t||Yi()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))},Ui=function(t){t=t||n.window;try{t.close()}catch(t){}},Mi=function(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Yi().toLowerCase(),r&&(e.target=r,x(n,"crios/")&&(e.target="_blank")),"Firefox"==Hi(Yi())&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(r=e)||(r={}),t=window,e=n instanceof xe?n:Le(void 0!==n.href?n.href:String(n)),n=r.target||n.target,i=[];for(s in r)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+r[s]);break;case"target":case"noreferrer":break;default:i.push(s+"="+(r[s]?1:0))}var s=i.join(",");if((pt("iPhone")&&!pt("iPod")&&!pt("iPad")||pt("iPad")||pt("iPod"))&&t.navigator&&t.navigator.standalone&&n&&"_self"!=n?(s=t.document.createElement("A"),void 0!==(i=pn(s)).HTMLAnchorElement&&void 0!==i.Location&&void 0!==i.Element&&L(s&&(s instanceof i.HTMLAnchorElement||!(s instanceof i.Location||s instanceof i.Element)),"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",fn(s)),e instanceof xe||e instanceof xe||(e=e.ob?e.mb():String(e),L(De.test(e))||(e="about:invalid#zClosurez"),e=Ue(e)),s.href=Ce(e),s.setAttribute("target",n),r.noreferrer&&s.setAttribute("rel","noreferrer"),(r=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,t,1),s.dispatchEvent(r),s={}):r.noreferrer?(s=t.open("",n,s),r=Ce(e),s&&(Pt&&x(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),s.opener=null,t=K("b/12014412, meta tag with sanitized URL"),r='<META HTTP-EQUIV="refresh" content="0; url='+k(r)+'">',M(q(t),"must provide justification"),L(!/^[\s\xa0]*$/.test(q(t)),"must provide non-empty justification"),s.document.write(bn((new vn).Of(r))),s.document.close())):s=t.open(Ce(e),n,s),s)try{s.focus()}catch(t){}return s},Vi=function(t){return new _n(function(e){var n=function(){Fr(2e3).then(function(){if(t&&!t.closed)return n();e()})};return n()})},Fi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qi=function(){var t=null;return new _n(function(e){"complete"==n.document.readyState?e():(t=function(){e()},we(window,"load",t))}).f(function(e){throw Te(window,"load",t),e})},Wi=function(){return Ki(void 0)?qi().then(function(){return new _n(function(t,e){var r=n.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Cn(Error("Cordova must run in an Android or iOS file scheme."))},Ki=function(t){return t=t||Yi(),!("file:"!==to()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))},Bi=function(){var t=n.window;try{return!(!t||t==t.top)}catch(t){return!1}},Xi=function(){return Re.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Re.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},$i=function(){var t=Xi();return"ReactNative"===t||"Node"===t},Hi=function(t){var e=t.toLowerCase();return x(e,"opera/")||x(e,"opr/")||x(e,"opios/")?"Opera":x(e,"iemobile")?"IEMobile":x(e,"msie")||x(e,"trident/")?"IE":x(e,"edge/")?"Edge":x(e,"firefox/")?"Firefox":x(e,"silk/")?"Silk":x(e,"blackberry")?"Blackberry":x(e,"webos")?"Webos":!x(e,"safari/")||x(e,"chrome/")||x(e,"crios/")||x(e,"android")?!x(e,"chrome/")&&!x(e,"crios/")||x(e,"edge/")?x(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"},Gi=function(t){var e=Xi();return("Browser"===e?Hi(Yi()):e)+"/JsCore/"+t},Yi=function(){return n.navigator&&n.navigator.userAgent||""},zi=function(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e},Ji=function(){try{var t=n.localStorage,e=oo();if(t)return t.setItem(e,"1"),t.removeItem(e),!xi()||!!n.indexedDB}catch(t){}return!1},Zi=function(){return(Qi()||"chrome-extension:"===to()||Ki())&&!$i()&&Ji()},Qi=function(){return"http:"===to()||"https:"===to()},to=function(){return n.location&&n.location.protocol||null},eo=function(t){return t=t||Yi(),!ji(t)&&"Firefox"!=Hi(t)},no=function(t){return void 0===t?null:Me(t)},ro=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n},io=function(t){if(null!==t)return JSON.parse(t)},oo=function(t){return t||""+Math.floor(1e9*Math.random()).toString()},so=function(t){return t=t||Yi(),"Safari"!=Hi(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)},ao=function(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null},uo=function(){var t=n.navigator;return!t||"boolean"!=typeof t.onLine||!Qi()&&"chrome-extension:"!==to()&&void 0===t.connection||t.onLine},co=function(t,e,n,r){if(t>e)throw Error("Short delay should be less than long delay!");this.rg=t,this.Wf=e,t=n||Yi(),r=r||Xi(),this.Rf=ji(t)||"ReactNative"===r};co.prototype.get=function(){return this.Rf?this.Wf:this.rg};var ho,lo=function(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState},fo=function(){var t=n.document,e=null;return lo()||!t?xn():new _n(function(n){e=function(){lo()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).f(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})},po={};try{var vo={};Object.defineProperty(vo,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(vo,"abcd",{configurable:!0,enumerable:!0,value:2}),ho=2==vo.abcd}catch(t){ho=!1}var bo=function(t,e,n){ho?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n},yo=function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&bo(t,n,e[n])},mo=function(t){var e={};return yo(e,t),e},go=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},wo=function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0},To=function(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)bo(e,n,To(t[n]))}return e},Io="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ko=["client_id","response_type","scope","redirect_uri","state"],Eo={Dg:{Ec:"locale",Yb:500,Xb:600,providerId:"facebook.com",Qd:ko},Eg:{Ec:null,Yb:500,Xb:620,providerId:"github.com",Qd:ko},Fg:{Ec:"hl",Yb:515,Xb:680,providerId:"google.com",Qd:ko},Jg:{Ec:"lang",Yb:485,Xb:705,providerId:"twitter.com",Qd:Io}},So=function(t){for(var e in Eo)if(Eo[e].providerId==t)return Eo[e];return null},Ao=function(t,e){this.code="auth/"+t,this.message=e||Oo[t]||""};g(Ao,Error),Ao.prototype.I=function(){return{code:this.code,message:this.message}},Ao.prototype.toJSON=function(){return this.I()};var _o=function(t){var e=t&&t.code;return e?new Ao(e.substring(5),t.message):null},Oo={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The SMS quota for this project has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Po=function(t,e,n,r,i){if(this.ma=t,this.W=e||null,this.Db=n||null,this.Ud=r||null,this.ba=i||null,!this.Db&&!this.ba)throw new Ao("invalid-auth-event");if(this.Db&&this.ba)throw new Ao("invalid-auth-event");if(this.Db&&!this.Ud)throw new Ao("invalid-auth-event")};Po.prototype.uc=function(){return this.Ud},Po.prototype.getError=function(){return this.ba},Po.prototype.I=function(){return{type:this.ma,eventId:this.W,urlResponse:this.Db,sessionId:this.Ud,error:this.ba&&this.ba.I()}};var No=function(t){return(t=t||{}).type?new Po(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&_o(t.error)):null},xo=function(t){var e="unauthorized-domain",n=void 0,r=di(t);t=r.pa,"chrome-extension"==(r=r.qa)?n=T("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=T("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Ao.call(this,e,n)};g(xo,Ao);var Co=function(t){this.Vf=t.sub,m(),this.Lb=t.email||null,this.eg=t.provider_id||null,this.jf=!!t.is_anonymous||"anonymous"==this.eg};Co.prototype.getEmail=function(){return this.Lb},Co.prototype.isAnonymous=function(){return this.jf};var Ro=function(t,e){return t.then(function(t){if(t.idToken){t:{var n=t.idToken.split(".");if(3==n.length){for(var r=(4-(n=n[1]).length%4)%4,i=0;i<r;i++)n+=".";try{var o=JSON.parse(Bt(n));if(o.sub&&o.iss&&o.aud&&o.exp){var s=new Co(o);break t}}catch(t){}}s=null}if(!s||e!=s.Vf)throw new Ao("user-mismatch");return t}throw new Ao("user-mismatch")}).f(function(t){throw t&&t.code&&"auth/user-not-found"==t.code?new Ao("user-mismatch"):t})},Do=function(t,e){if(e.idToken||e.accessToken)e.idToken&&bo(this,"idToken",e.idToken),e.accessToken&&bo(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Ao("internal-error","failed to construct a credential");bo(this,"accessToken",e.oauthToken),bo(this,"secret",e.oauthTokenSecret)}bo(this,"providerId",t)};Do.prototype.Nb=function(t){return As(t,Lo(this))},Do.prototype.Gc=function(t,e){var n=Lo(this);return n.idToken=e,_s(t,n)},Do.prototype.Dd=function(t,e){var n=Lo(this);return Ro(Os(t,n),e)};var Lo=function(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:Ai(e).toString(),requestUri:"http://localhost"}};Do.prototype.I=function(){var t={providerId:this.providerId};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t};var jo=function(t,e){this.hg=e||[],yo(this,{providerId:t,isOAuthProvider:!0}),this.me={},this.Bd=(So(t)||{}).Ec||null,this.md=null};jo.prototype.setCustomParameters=function(t){return this.me=wt(t),this};var Uo=function(t){jo.call(this,t,ko),this.Rd=[]};g(Uo,jo),Uo.prototype.addScope=function(t){return it(this.Rd,t)||this.Rd.push(t),this},Uo.prototype.te=function(){return ct(this.Rd)},Uo.prototype.credential=function(t,e){if(!t&&!e)throw new Ao("argument-error","credential failed: must provide the ID token and/or the access token.");return new Do(this.providerId,{idToken:t||null,accessToken:e||null})};var Mo=function(){Uo.call(this,"facebook.com")};g(Mo,Uo),bo(Mo,"PROVIDER_ID","facebook.com");var Vo=function(t){if(!t)throw new Ao("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new Mo).credential(null,e)},Fo=function(){Uo.call(this,"github.com")};g(Fo,Uo),bo(Fo,"PROVIDER_ID","github.com");var qo=function(t){if(!t)throw new Ao("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new Fo).credential(null,e)},Wo=function(){Uo.call(this,"google.com"),this.addScope("profile")};g(Wo,Uo),bo(Wo,"PROVIDER_ID","google.com");var Ko=function(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new Wo).credential(n,e)},Bo=function(){jo.call(this,"twitter.com",Io)};g(Bo,jo),bo(Bo,"PROVIDER_ID","twitter.com");var Xo=function(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Ao("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Do("twitter.com",n)},$o=function(t,e){this.Lb=t,this.Id=e,bo(this,"providerId","password")};$o.prototype.Nb=function(t){return ta(t,zs,{email:this.Lb,password:this.Id})},$o.prototype.Gc=function(t,e){return ta(t,Bs,{idToken:e,email:this.Lb,password:this.Id})},$o.prototype.Dd=function(t,e){return Ro(this.Nb(t),e)},$o.prototype.I=function(){return{email:this.Lb,password:this.Id}};var Ho=function(){yo(this,{providerId:"password",isOAuthProvider:!1})};yo(Ho,{PROVIDER_ID:"password"});var Go=function(t){if(!(t.verificationId&&t.$c||t.hc&&t.phoneNumber))throw new Ao("internal-error");this.R=t,bo(this,"providerId","phone")};Go.prototype.Nb=function(t){return t.verifyPhoneNumber(Yo(this))},Go.prototype.Gc=function(t,e){var n=Yo(this);return n.idToken=e,ta(t,Zs,n)},Go.prototype.Dd=function(t,e){var n=Yo(this);return n.operation="REAUTH",t=ta(t,Qs,n),Ro(t,e)},Go.prototype.I=function(){var t={providerId:"phone"};return this.R.verificationId&&(t.verificationId=this.R.verificationId),this.R.$c&&(t.verificationCode=this.R.$c),this.R.hc&&(t.temporaryProof=this.R.hc),this.R.phoneNumber&&(t.phoneNumber=this.R.phoneNumber),t};var Yo=function(t){return t.R.hc&&t.R.phoneNumber?{temporaryProof:t.R.hc,phoneNumber:t.R.phoneNumber}:{sessionInfo:t.R.verificationId,code:t.R.$c}},zo=function(t){try{this.mf=t||Re.auth()}catch(t){throw new Ao("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}yo(this,{providerId:"phone",isOAuthProvider:!1})};zo.prototype.verifyPhoneNumber=function(t,e){var n=this.mf.g;return xn(e.verify()).then(function(r){if(!i(r))throw new Ao("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return ta(n,Ws,{phoneNumber:t,recaptchaToken:r});default:throw new Ao("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};var Jo=function(t,e){if(!t)throw new Ao("missing-verification-id");if(!e)throw new Ao("missing-verification-code");return new Go({verificationId:t,$c:e})};yo(zo,{PROVIDER_ID:"phone"});var Zo=function(t){if(t.temporaryProof&&t.phoneNumber)return new Go({hc:t.temporaryProof,phoneNumber:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return Ko(t,n);case"facebook.com":return Vo(n);case"github.com":return qo(n);case"twitter.com":return Xo(n,r);default:return new Uo(e).credential(t,n)}}catch(t){return null}},Qo=function(t){if(!t.isOAuthProvider)throw new Ao("invalid-oauth-provider")},ts=function(t,e,n){Ao.call(this,t,n),(t=e||{}).email&&bo(this,"email",t.email),t.phoneNumber&&bo(this,"phoneNumber",t.phoneNumber),t.credential&&bo(this,"credential",t.credential)};g(ts,Ao),ts.prototype.I=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.I();return e&&It(t,e),t},ts.prototype.toJSON=function(){return this.I()};var es=function(t){if(t.code){var e=t.code||"";0==e.indexOf("auth/")&&(e=e.substring(5));var n={credential:Zo(t)};if(t.email)n.email=t.email;else{if(!t.phoneNumber)return new Ao(e,t.message||void 0);n.phoneNumber=t.phoneNumber}return new ts(e,n,t.message)}return null},ns=function(t){this.Cg=t};g(ns,Be),ns.prototype.rc=function(){return new this.Cg},ns.prototype.zd=function(){return{}};var rs,is=function(t,e,r){var i="Node"==Xi();if(!(i=n.XMLHttpRequest||i&&Re.INTERNAL.node&&Re.INTERNAL.node.XMLHttpRequest))throw new Ao("internal-error","The XMLHttpRequest compatibility library was not found.");this.o=t,t=e||{},this.ng=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.og=t.secureTokenTimeout||os,this.Pe=wt(t.secureTokenHeaders||ss),this.xf=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.yf=t.firebaseTimeout||as,this.sc=wt(t.firebaseHeaders||us),r&&(this.sc["X-Client-Version"]=r,this.Pe["X-Client-Version"]=r),this.pf=new Ye,this.Bg=new ns(i)},os=new co(3e4,6e4),ss={"Content-Type":"application/x-www-form-urlencoded"},as=new co(3e4,6e4),us={"Content-Type":"application/json"},cs=function(t,e){e?t.sc["X-Firebase-Locale"]=e:delete t.sc["X-Firebase-Locale"]},hs=function(t,e,n,r,i,o,s){uo()?(Li()?t=b(t.qg,t):(rs||(rs=new _n(function(t,e){ps(t,e)})),t=b(t.pg,t)),t(e,n,r,i,o,s)):n&&n(null)};is.prototype.qg=function(t,e,n,r,i,o){var s="Node"==Xi(),a=$i()?s?new Kr(this.Bg):new Kr:new Kr(this.pf);if(o){a.Cb=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}a.listen("complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(ri(this))||null}catch(e){t=null}e&&e(t)}),_r(a,"ready",function(){u&&clearTimeout(u),this.La||(this.La=!0,this.kb())}),_r(a,"timeout",function(){u&&clearTimeout(u),this.La||(this.La=!0,this.kb()),e&&e(null)}),a.send(t,n,r,i)};var ls=K("https://apis.google.com/js/client.js?onload=%{onload}"),fs="__fcb"+Math.floor(1e6*Math.random()).toString(),ps=function(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[fs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=H(ls,{onload:fs});er(cr(r),function(){e(Error("CORS_UNSUPPORTED"))})}};is.prototype.pg=function(t,e,n,r,i){var o=this;rs.then(function(){window.gapi.client.setApiKey(o.o);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).f(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})};var ds=function(t,e){return new _n(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?hs(t,t.ng+"?key="+encodeURIComponent(t.o),function(t){t?t.error?r(ea(t)):t.access_token&&t.refresh_token?n(t):r(new Ao("internal-error")):r(new Ao("network-request-failed"))},"POST",Ai(e).toString(),t.Pe,t.og.get()):r(new Ao("internal-error"))})},vs=function(t,e,n,r,i,o){var s=di(t.xf+e);li(s,"key",t.o),o&&li(s,"cb",m().toString());var a="GET"==n;if(a)for(var u in r)r.hasOwnProperty(u)&&li(s,u,r[u]);return new _n(function(e,o){hs(t,s.toString(),function(t){t?t.error?o(ea(t,i||{})):e(t):o(new Ao("network-request-failed"))},n,a?void 0:Me(ro(r)),t.sc,t.yf.get())})},bs=function(t){if(!Ne.test(t.email))throw new Ao("invalid-email")},ys=function(t){"email"in t&&bs(t)},ms=function(t,e){return ta(t,Rs,{identifier:e,continueUri:Qi()?Ci():"http://localhost"}).then(function(t){return t.allProviders||[]})},gs=function(t){return ta(t,Vs,{}).then(function(t){return t.authorizedDomains||[]})},ws=function(t){if(!t.idToken)throw new Ao("internal-error")},Ts=function(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Ao("internal-error")}else{if(!t.sessionInfo)throw new Ao("missing-verification-id");if(!t.code)throw new Ao("missing-verification-code")}};is.prototype.signInAnonymously=function(){return ta(this,Xs,{})},is.prototype.updateEmail=function(t,e){return ta(this,Ks,{idToken:t,email:e})},is.prototype.updatePassword=function(t,e){return ta(this,Bs,{idToken:t,password:e})};var Is={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};is.prototype.updateProfile=function(t,e){var n={idToken:t},r=[];return dt(Is,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),ta(this,Ks,n)},is.prototype.sendPasswordResetEmail=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},It(t,e),ta(this,Ms,t)},is.prototype.sendEmailVerification=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},It(t,e),ta(this,Us,t)},is.prototype.verifyPhoneNumber=function(t){return ta(this,Js,t)};var ks=function(t,e,n){return ta(t,Ls,{idToken:e,deleteProvider:n})},Es=function(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Ao("internal-error")},Ss=function(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=es(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=es(t)):"EMAIL_EXISTS"==t.errorMessage&&(t.code="email-already-in-use",e=es(t)),e)throw e;if(!t.idToken)throw new Ao("internal-error")},As=function(t,e){return e.returnIdpCredential=!0,ta(t,$s,e)},_s=function(t,e){return e.returnIdpCredential=!0,ta(t,Gs,e)},Os=function(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ta(t,Hs,e)},Ps=function(t){if(!t.oobCode)throw new Ao("invalid-action-code")};is.prototype.confirmPasswordReset=function(t,e){return ta(this,qs,{oobCode:t,newPassword:e})},is.prototype.checkActionCode=function(t){return ta(this,xs,{oobCode:t})},is.prototype.applyActionCode=function(t){return ta(this,Ns,{oobCode:t})};var Ns={endpoint:"setAccountInfo",F:Ps,ab:"email"},xs={endpoint:"resetPassword",F:Ps,$:function(t){if(!t.email||!t.requestType)throw new Ao("internal-error")}},Cs={endpoint:"signupNewUser",F:function(t){if(bs(t),!t.password)throw new Ao("weak-password")},$:ws,Aa:!0},Rs={endpoint:"createAuthUri"},Ds={endpoint:"deleteAccount",Za:["idToken"]},Ls={endpoint:"setAccountInfo",Za:["idToken","deleteProvider"],F:function(t){if(!h(t.deleteProvider))throw new Ao("internal-error")}},js={endpoint:"getAccountInfo"},Us={endpoint:"getOobConfirmationCode",Za:["idToken","requestType"],F:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Ao("internal-error")},ab:"email"},Ms={endpoint:"getOobConfirmationCode",Za:["requestType"],F:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Ao("internal-error");bs(t)},ab:"email"},Vs={ee:!0,endpoint:"getProjectConfig",ye:"GET"},Fs={ee:!0,endpoint:"getRecaptchaParam",ye:"GET",$:function(t){if(!t.recaptchaSiteKey)throw new Ao("internal-error")}},qs={endpoint:"resetPassword",F:Ps,ab:"email"},Ws={endpoint:"sendVerificationCode",Za:["phoneNumber","recaptchaToken"],ab:"sessionInfo"},Ks={endpoint:"setAccountInfo",Za:["idToken"],F:ys,Aa:!0},Bs={endpoint:"setAccountInfo",Za:["idToken"],F:function(t){if(ys(t),!t.password)throw new Ao("weak-password")},$:ws,Aa:!0},Xs={endpoint:"signupNewUser",$:ws,Aa:!0},$s={endpoint:"verifyAssertion",F:Es,$:Ss,Aa:!0},Hs={endpoint:"verifyAssertion",F:Es,$:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Ao("user-not-found");if(!t.idToken)throw new Ao("internal-error")},Aa:!0},Gs={endpoint:"verifyAssertion",F:function(t){if(Es(t),!t.idToken)throw new Ao("internal-error")},$:Ss,Aa:!0},Ys={endpoint:"verifyCustomToken",F:function(t){if(!t.token)throw new Ao("invalid-custom-token")},$:ws,Aa:!0},zs={endpoint:"verifyPassword",F:function(t){if(bs(t),!t.password)throw new Ao("wrong-password")},$:ws,Aa:!0},Js={endpoint:"verifyPhoneNumber",F:Ts,$:ws},Zs={endpoint:"verifyPhoneNumber",F:function(t){if(!t.idToken)throw new Ao("internal-error");Ts(t)},$:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",es(t);ws(t)}},Qs={sf:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",F:Ts,$:ws},ta=function(t,e,n){if(!wo(n,e.Za))return Cn(new Ao("internal-error"));var r,i=e.ye||"POST";return xn(n).then(e.F).then(function(){return e.Aa&&(n.returnSecureToken=!0),vs(t,e.endpoint,i,n,e.sf,e.ee||!1)}).then(function(t){return r=t}).then(e.$).then(function(){if(!e.ab)return r;if(!(e.ab in r))throw new Ao("internal-error");return r[e.ab]})},ea=function(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Ao(r[n]):null)return n;n=t.error&&t.error.message||"",It(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new Ao(r[i],e);return!e&&t&&(e=no(t)),new Ao("internal-error",e)},na=function(t){this.D=t};na.prototype.value=function(){return this.D},na.prototype.Re=function(t){return this.D.style=t,this},na.prototype.getStyle=function(){return this.D.style};var ra=function(t){this.D=t||{}};(t=ra.prototype).value=function(){return this.D},t.getUrl=function(){return this.D.url},t.Re=function(t){return this.D.style=t,this},t.getStyle=function(){return this.D.style},t.getId=function(){return this.D.id},t.getContext=function(){return this.D.context};var ia=function(t){this.yg=t,this.zc=null,this.Fd=sa(this)},oa=function(t){var e=new ra;return e.D.where=document.body,e.D.url=t.yg,e.D.messageHandlersFilter=zi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),e.D.attributes=e.D.attributes||{},new na(e.D.attributes).Re({position:"absolute",top:"-100px",width:"1px",height:"1px"}),e.D.dontclear=!0,e},sa=function(t){return fa().then(function(){return new _n(function(e,n){zi("gapi.iframes.getContext")().open(oa(t).value(),function(r){t.zc=r,t.zc.restyle({setHideOnLeave:!1});var i=setTimeout(function(){n(Error("Network Error"))},ha.get()),o=function(){clearTimeout(i),e()};r.ping(o).then(o,function(){n(Error("Network Error"))})})})})};ia.prototype.sendMessage=function(t){var e=this;return this.Fd.then(function(){return new _n(function(n){e.zc.send(t.type,t,n,zi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var aa=function(t,e){t.Fd.then(function(){t.zc.register("authEvent",e,zi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},ua=K("https://apis.google.com/js/api.js?onload=%{onload}"),ca=new co(3e4,6e4),ha=new co(5e3,15e3),la=null,fa=function(){return la||(la=new _n(function(t,e){if(uo()){var r=function(){ao(),zi("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){ao(),e(Error("Network Error"))},timeout:ca.get()})};if(zi("gapi.iframes.Iframe"))t();else if(zi("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){zi("gapi.load")?r():e(Error("Network Error"))},i=H(ua,{onload:i}),xn(cr(i)).f(function(){e(Error("Network Error"))})}}else e(Error("Network Error"))}).f(function(t){throw la=null,t}))},pa=function(t,e,n){this.C=t,this.o=e,this.u=n,this.eb=null,this.bb=vi(this.C,"/__/auth/iframe"),li(this.bb,"apiKey",this.o),li(this.bb,"appName",this.u),this.V=null};pa.prototype.Xd=function(t){return this.eb=t,this},pa.prototype.Vd=function(t){return this.V=t,this},pa.prototype.toString=function(){return this.eb?li(this.bb,"v",this.eb):this.bb.removeParameter("v"),this.V?li(this.bb,"eid",this.V):this.bb.removeParameter("eid"),this.bb.toString()};var da=function(t,e,n,r,i){this.C=t,this.o=e,this.u=n,this.lf=r,this.eb=this.W=this.Pd=null,this.vb=i,this.V=null};da.prototype.Xd=function(t){return this.eb=t,this},da.prototype.Vd=function(t){return this.V=t,this},da.prototype.toString=function(){var t=vi(this.C,"/__/auth/handler");if(li(t,"apiKey",this.o),li(t,"appName",this.u),li(t,"authType",this.lf),this.vb.isOAuthProvider){var e=this.vb;try{var n=Re.app(this.u).auth().ia}catch(t){n=null}e.md=n,li(t,"providerId",this.vb.providerId),e=this.vb,n=ro(e.me);for(var r in n)n[r]=n[r].toString();r=e.hg,n=wt(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.Bd&&e.md&&!n[e.Bd]&&(n[e.Bd]=e.md),mt(n)||li(t,"customParameters",no(n))}if("function"==typeof this.vb.te&&(e=this.vb.te()).length&&li(t,"scopes",e.join(",")),this.Pd?li(t,"redirectUrl",this.Pd):t.removeParameter("redirectUrl"),this.W?li(t,"eventId",this.W):t.removeParameter("eventId"),this.eb?li(t,"v",this.eb):t.removeParameter("v"),this.mc)for(var s in this.mc)this.mc.hasOwnProperty(s)&&!fi(t,s)&&li(t,s,this.mc[s]);return this.V?li(t,"eid",this.V):t.removeParameter("eid"),t.toString()};var va=function(t,e,n,r,i){this.C=t,this.o=e,this.u=n,this.Ka=r||null,this.V=i||null,this.Af=this.Ka?Gi(this.Ka):null,r=this.Ka;var o=this.V;this.Kf=new pa(t,e,n).Xd(r).Vd(o).toString(),this.ta=[],this.g=new is(e,Ni(i),this.Af),this.Bc=this.wa=null},ba=function(t){var e=Ci();return gs(t).then(function(t){t:{var n=di(e),r=n.qa;n=n.pa;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=di(o).pa==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:Fi.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new xo(Ci())})};(t=va.prototype).Rb=function(){if(this.Bc)return this.Bc;var t=this;return this.Bc=qi().then(function(){t.yc=new ia(t.Kf),ma(t)})},t.ec=function(t,e,n){var r=new Ao("popup-closed-by-user"),i=new Ao("web-storage-unsupported"),o=this,s=!1;return this.Qa().then(function(){ga(o).then(function(n){n||(t&&Ui(t),e(i),s=!0)})}).f(function(){}).then(function(){if(!s)return Vi(t)}).then(function(){if(!s)return Fr(n).then(function(){e(r)})})},t.Se=function(){var t=Yi();return!eo(t)&&!so(t)},t.we=function(){return!1},t.Zb=function(t,e,n,r,i,o,s){if(!t)return Cn(new Ao("popup-blocked"));if(s&&!eo())return this.Qa().f(function(e){Ui(t),i(e)}),r(),xn();this.wa||(this.wa=ba(this.g));var a=this;return this.wa.then(function(){var e=a.Qa().f(function(e){throw Ui(t),i(e),e});return r(),e}).then(function(){if(Qo(n),!s){var r=ya(a.C,a.o,a.u,e,n,null,o,a.Ka,void 0,a.V);Ri(r,t)}}).f(function(t){throw"auth/network-request-failed"==t.code&&(a.wa=null),t})},t.$b=function(t,e,n){this.wa||(this.wa=ba(this.g));var r=this;return this.wa.then(function(){Qo(e);var i=ya(r.C,r.o,r.u,t,e,Ci(),n,r.Ka,void 0,r.V);Ri(i)}).f(function(t){throw"auth/network-request-failed"==t.code&&(r.wa=null),t})},t.Qa=function(){var t=this;return this.Rb().then(function(){return t.yc.Fd}).f(function(){throw t.wa=null,new Ao("network-request-failed")})},t.We=function(){return!0};var ya=function(t,e,n,r,i,o,s,a,u,c){return t=new da(t,e,n,r,i),t.Pd=o,t.W=s,o=t.Xd(a),o.mc=wt(u||null),o.Vd(c).toString()},ma=function(t){if(!t.yc)throw Error("IfcHandler must be initialized!");aa(t.yc,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=No(e.authEvent),n=0;n<t.ta.length;n++)r=t.ta[n](e)||r;return n={},n.status=r?"ACK":"ERROR",xn(n)}return n.status="ERROR",xn(n)})},ga=function(t){var e={type:"webStorageSupport"};return t.Rb().then(function(){return t.yc.sendMessage(e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})};va.prototype.hb=function(t){this.ta.push(t)},va.prototype.cc=function(t){at(this.ta,function(e){return e==t})};var wa=function(t,e,r,i,o,s){if(bo(this,"type","recaptcha"),this.ad=this.Hb=null,this.Jb=!1,this.ke=e,this.Ea=r||{theme:"light",type:"image"},this.K=[],this.Ea.sitekey)throw new Ao("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.Cc="invisible"===this.Ea.size,!gn(e)||!this.Cc&&gn(e).hasChildNodes())throw new Ao("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.g=new is(t,s||null,o||null),this.Df=i||function(){return null};var a=this;this.Wc=[];var u=this.Ea.callback;this.Ea.callback=function(t){if(a.Kb(t),"function"==typeof u)u(t);else if("string"==typeof u){var e=zi(u,n);"function"==typeof e&&e(t)}};var c=this.Ea["expired-callback"];this.Ea["expired-callback"]=function(){if(a.Kb(null),"function"==typeof c)c();else if("string"==typeof c){var t=zi(c,n);"function"==typeof t&&t()}}};wa.prototype.Kb=function(t){for(var e=0;e<this.Wc.length;e++)try{this.Wc[e](t)}catch(t){}};var Ta=function(t,e){at(t.Wc,function(t){return t==e})};wa.prototype.c=function(t){var e=this;return this.K.push(t),jn(t,function(){ot(e.K,t)}),t},wa.prototype.Sb=function(){var t=this;return this.Hb?this.Hb:this.Hb=this.c(xn().then(function(){if(Qi())return qi();throw new Ao("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return Sa(_a(),t.Df())}).then(function(){return ta(t.g,Fs,{})}).then(function(e){t.Ea.sitekey=e.recaptchaSiteKey}).f(function(e){throw t.Hb=null,e}))},wa.prototype.render=function(){Ia(this);var t=this;return this.c(this.Sb().then(function(){if(null===t.ad){var e=t.ke;if(!t.Cc){var n=gn(e);e=In("DIV"),n.appendChild(e)}t.ad=grecaptcha.render(e,t.Ea)}return t.ad}))},wa.prototype.verify=function(){Ia(this);var t=this;return this.c(this.render().then(function(e){return new _n(function(n){var r=grecaptcha.getResponse(e);if(r)n(r);else{var i=function(e){e&&(Ta(t,i),n(e))};t.Wc.push(i),t.Cc&&grecaptcha.execute(t.ad)}})}))};var Ia=function(t){if(t.Jb)throw new Ao("internal-error","RecaptchaVerifier instance has been destroyed.")};wa.prototype.clear=function(){Ia(this),this.Jb=!0,_a().kd--;for(var t=0;t<this.K.length;t++)this.K[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.Cc){t=gn(this.ke);for(var e;e=t.firstChild;)t.removeChild(e)}};var ka=K("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ea=function(){this.kd=n.grecaptcha?1/0:0,this.xe=null,this.hd="__rcb"+Math.floor(1e6*Math.random()).toString()},Sa=function(t,e){return new _n(function(r,i){if(uo())if(!n.grecaptcha||e!==t.xe&&!t.kd){n[t.hd]=function(){if(n.grecaptcha){t.xe=e;var o=n.grecaptcha.render;n.grecaptcha.render=function(e,n){return e=o(e,n),t.kd++,e},r()}else i(new Ao("internal-error"));delete n[t.hd]};var o=H(ka,{onload:t.hd,hl:e||""});xn(cr(o)).f(function(){i(new Ao("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else r();else i(new Ao("network-request-failed"))})},Aa=null,_a=function(){return Aa||(Aa=new Ea),Aa},Oa=function(t,e,n){try{this.j=n||Re.app()}catch(t){throw new Ao("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.j.options||!this.j.options.apiKey)throw new Ao("invalid-api-key");n=this.j.options.apiKey;var r=this,i=Re.SDK_VERSION?Gi(Re.SDK_VERSION):null;wa.call(this,n,t,e,function(){try{var t=r.j.auth().ia}catch(e){t=null}return t},i,Ni(Oi))};g(Oa,wa);var Pa=function(t){if(this.G=t||Re.INTERNAL.reactNative&&Re.INTERNAL.reactNative.AsyncStorage,!this.G)throw new Ao("internal-error","The React Native compatibility library was not found.")};(t=Pa.prototype).get=function(t){return xn(this.G.getItem(t)).then(function(t){return t&&io(t)})},t.set=function(t,e){return xn(this.G.setItem(t,no(e)))},t.remove=function(t){return xn(this.G.removeItem(t))},t.ib=function(){},t.Ya=function(){};var Na=function(){this.G={}};(t=Na.prototype).get=function(t){return xn(this.G[t])},t.set=function(t,e){return this.G[t]=e,xn()},t.remove=function(t){return delete this.G[t],xn()},t.ib=function(){},t.Ya=function(){};var xa=function(){if(!Ca()){if("Node"==Xi())throw new Ao("internal-error","The LocalStorage compatibility library was not found.");throw new Ao("web-storage-unsupported")}this.G=n.localStorage||Re.INTERNAL.node.localStorage},Ca=function(){var t="Node"==Xi();if(!(t=n.localStorage||t&&Re.INTERNAL.node&&Re.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};(t=xa.prototype).get=function(t){var e=this;return xn().then(function(){var n=e.G.getItem(t);return io(n)})},t.set=function(t,e){var n=this;return xn().then(function(){var r=no(e);null===r?n.remove(t):n.G.setItem(t,r)})},t.remove=function(t){var e=this;return xn().then(function(){e.G.removeItem(t)})},t.ib=function(t){n.window&&ye(n.window,"storage",t)},t.Ya=function(t){n.window&&Te(n.window,"storage",t)};var Ra=function(){this.G={}};(t=Ra.prototype).get=function(){return xn(null)},t.set=function(){return xn()},t.remove=function(){return xn()},t.ib=function(){},t.Ya=function(){};var Da=function(){if(!La()){if("Node"==Xi())throw new Ao("internal-error","The SessionStorage compatibility library was not found.");throw new Ao("web-storage-unsupported")}this.G=n.sessionStorage||Re.INTERNAL.node.sessionStorage},La=function(){var t="Node"==Xi();if(!(t=n.sessionStorage||t&&Re.INTERNAL.node&&Re.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};(t=Da.prototype).get=function(t){var e=this;return xn().then(function(){var n=e.G.getItem(t);return io(n)})},t.set=function(t,e){var n=this;return xn().then(function(){var r=no(e);null===r?n.remove(t):n.G.setItem(t,r)})},t.remove=function(t){var e=this;return xn().then(function(){e.G.removeItem(t)})},t.ib=function(){},t.Ya=function(){};var ja,Ua=function(t,e,r,i,o,s){if(!window.indexedDB)throw new Ao("web-storage-unsupported");this.tf=t,this.Ed=e,this.ld=r,this.$e=i,this.fb=o,this.Y={},this.fc=[],this.Vb=0,this.Mf=s||n.indexedDB},Ma=function(t){return new _n(function(e,n){var r=t.Mf.open(t.tf,t.fb);r.onerror=function(t){n(Error(t.target.errorCode))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore(t.Ed,{keyPath:t.ld})}catch(t){n(t)}},r.onsuccess=function(t){e(t.target.result)}})},Va=function(t){return t.Be||(t.Be=Ma(t)),t.Be},Fa=function(t,e){return e.objectStore(t.Ed)},qa=function(t,e,n){return e.transaction([t.Ed],n?"readwrite":"readonly")},Wa=function(t){return new _n(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})};(t=Ua.prototype).set=function(t,e){var n,r=!1,i=this;return jn(Va(this).then(function(e){return n=e,e=Fa(i,qa(i,n,!0)),Wa(e.get(t))}).then(function(o){var s=Fa(i,qa(i,n,!0));return o?(o.value=e,Wa(s.put(o))):(i.Vb++,r=!0,o={},o[i.ld]=t,o[i.$e]=e,Wa(s.add(o)))}).then(function(){i.Y[t]=e}),function(){r&&i.Vb--})},t.get=function(t){var e=this;return Va(this).then(function(n){return Wa(Fa(e,qa(e,n,!1)).get(t))}).then(function(t){return t&&t.value})},t.remove=function(t){var e=!1,n=this;return jn(Va(this).then(function(r){return e=!0,n.Vb++,Wa(Fa(n,qa(n,r,!0)).delete(t))}).then(function(){delete n.Y[t]}),function(){e&&n.Vb--})},t.ug=function(){var t=this;return Va(this).then(function(e){var n=Fa(t,qa(t,e,!1));return n.getAll?Wa(n.getAll()):new _n(function(t,e){var r=[],i=n.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){e(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.Vb){for(r=0;r<e.length;r++)n[e[r][t.ld]]=e[r][t.$e];r=Di(t.Y,n),t.Y=n}return r})},t.ib=function(t){0==this.fc.length&&this.Zd(),this.fc.push(t)},t.Ya=function(t){at(this.fc,function(e){return e==t}),0==this.fc.length&&this.Sc()},t.Zd=function(){var t=this;this.Sc();var e=function(){return t.Kd=Fr(800).then(b(t.ug,t)).then(function(e){0<e.length&&Q(t.fc,function(t){t(e)})}).then(e).f(function(t){"STOP_EVENT"!=t.message&&e()}),t.Kd};e()},t.Sc=function(){this.Kd&&this.Kd.cancel("STOP_EVENT")};var Ka,Ba=function(){this.oe={Browser:Xa,Node:$a,ReactNative:Ha}[Xi()]},Xa={B:xa,ae:Da},$a={B:xa,ae:Da},Ha={B:Pa,ae:Ra},Ga=function(t){this.yd(t)};Ga.prototype.yd=function(t){var e=t.url;if(void 0===e)throw new Ao("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Ao("invalid-continue-uri");this.nf=e,this.ce=this.nc=null,this.Ce=!1;var n=t.android;if(n&&"object"==typeof n){e=n.packageName;var r=n.installApp;if(n=n.minimumVersion,"string"==typeof e&&e.length){if(this.nc=e,void 0!==r&&"boolean"!=typeof r)throw new Ao("argument-error","installApp property must be a boolean when specified.");if(this.Ce=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Ao("argument-error","minimumVersion property must be a non empty string when specified.");this.ce=n||null}else{if(void 0!==e)throw new Ao("argument-error","packageName property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Ao("missing-android-pkg-name")}}else if(void 0!==n)throw new Ao("argument-error","android property must be a non null object when specified.");if(this.vd=null,(e=t.iOS)&&"object"==typeof e){if("string"==typeof(e=e.bundleId)&&e.length)this.vd=e;else if(void 0!==e)throw new Ao("argument-error","bundleId property must be a non empty string when specified.")}else if(void 0!==e)throw new Ao("argument-error","iOS property must be a non null object when specified.");if(void 0!==(t=t.handleCodeInApp)&&"boolean"!=typeof t)throw new Ao("argument-error","handleCodeInApp property must be a boolean when specified.");if((this.ie=!!t)&&!this.vd&&!this.nc)throw new Ao("argument-error","handleCodeInApp property can't be true when no mobile application is provided.")};var Ya=function(t){var e={};e.continueUrl=t.nf,e.canHandleCodeInApp=t.ie,(e.androidPackageName=t.nc)&&(e.androidMinimumVersion=t.ce,e.androidInstallApp=t.Ce),e.iOSBundleId=t.vd;for(var n in e)null===e[n]&&delete e[n];return e},za=function(t,e){this.rf=e,bo(this,"verificationId",t)};za.prototype.confirm=function(t){return t=Jo(this.verificationId,t),this.rf(t)};var Ja=function(t,e,n,r){return new zo(t).verifyPhoneNumber(e,n).then(function(t){return new za(t,r)})},Za=function(t){var e={},n=t.email,r=t.newEmail;if(t=t.requestType,!n||!t)throw Error("Invalid provider user info!");e.fromEmail=r||null,e.email=n,bo(this,"operation",t),bo(this,"data",To(e))},Qa=function(t,e,n,r,i,o){if(this.bg=t,this.jg=e,this.Ef=n,this.Hc=r,this.be=i,this.kg=!!o,this.sb=null,this.Ra=this.Hc,this.be<this.Hc)throw Error("Proactive refresh lower bound greater than upper bound!")};Qa.prototype.start=function(){this.Ra=this.Hc,eu(this,!0)};var tu=function(t,e){return e?(t.Ra=t.Hc,t.Ef()):(e=t.Ra,t.Ra*=2,t.Ra>t.be&&(t.Ra=t.be),e)},eu=function(t,e){t.stop(),t.sb=Fr(tu(t,e)).then(function(){return t.kg?xn():fo()}).then(function(){return t.bg()}).then(function(){eu(t,!0)}).f(function(e){t.jg(e)&&eu(t,!1)})};Qa.prototype.stop=function(){this.sb&&(this.sb.cancel(),this.sb=null)};var nu=function(t){var e={};e["facebook.com"]=iu,e["google.com"]=su,e["github.com"]=ou,e["twitter.com"]=au;var n=t&&t.providerId;return n?e[n]?new e[n](t):new ru(t):null},ru=function(t){var e=io(t.rawUserInfo||"{}");if(!(t=t.providerId))throw Error("Invalid additional user info!");bo(this,"profile",To(e||{})),bo(this,"providerId",t)},iu=function(t){if(ru.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider id!")};g(iu,ru);var ou=function(t){if(ru.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider id!");bo(this,"username",this.profile&&this.profile.login||null)};g(ou,ru);var su=function(t){if(ru.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider id!")};g(su,ru);var au=function(t){if(ru.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider id!");bo(this,"username",t.screenName||null)};g(au,ru);var uu,cu={LOCAL:"local",NONE:"none",SESSION:"session"},hu=function(t){var e=new Ao("invalid-persistence-type"),n=new Ao("unsupported-persistence-type");t:{for(r in cu)if(cu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Xi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!Ji()&&"none"!==t)throw n}},lu=function(t,e,n,r){this.Ge=t,this.Td=e,this.lg=n,this.dc=r,this.X={},Ka||(Ka=new Ba),t=Ka;try{if(xi()){ja||(ja=new Ua("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var i=ja}else i=new t.oe.B;this.Le=i}catch(t){this.Le=new Na,this.dc=!0}try{this.Ve=new t.oe.ae}catch(t){this.Ve=new Na}this.Lf=new Na,this.$d=b(this.Te,this),this.Y={}},fu=function(){return uu||(uu=new lu("firebase",":",!(so(Yi())||!Bi()),eo())),uu},pu=function(t,e){switch(e){case"session":return t.Ve;case"none":return t.Lf;default:return t.Le}};(t=lu.prototype).ca=function(t,e){return this.Ge+this.Td+t.name+(e?this.Td+e:"")},t.get=function(t,e){return pu(this,t.B).get(this.ca(t,e))},t.remove=function(t,e){return e=this.ca(t,e),"local"!=t.B||this.dc||(this.Y[e]=null),pu(this,t.B).remove(e)},t.set=function(t,e,n){var r=this.ca(t,n),i=this,o=pu(this,t.B);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"!=t.B||i.dc||(i.Y[r]=e)})},t.addListener=function(t,e,r){t=this.ca(t,e),this.dc||(this.Y[t]=n.localStorage.getItem(t)),mt(this.X)&&this.Zd(),this.X[t]||(this.X[t]=[]),this.X[t].push(r)},t.removeListener=function(t,e,n){t=this.ca(t,e),this.X[t]&&(at(this.X[t],function(t){return t==n}),0==this.X[t].length&&delete this.X[t]),mt(this.X)&&this.Sc()},t.Zd=function(){pu(this,"local").ib(this.$d),this.dc||xi()||du(this)};var du=function(t){vu(t),t.Cd=setInterval(function(){for(var e in t.X){var r=n.localStorage.getItem(e),i=t.Y[e];r!=i&&(t.Y[e]=r,r=new se({type:"storage",key:e,target:window,oldValue:i,newValue:r,Jd:!0}),t.Te(r))}},1e3)},vu=function(t){t.Cd&&(clearInterval(t.Cd),t.Cd=null)};lu.prototype.Sc=function(){pu(this,"local").Ya(this.$d),vu(this)},lu.prototype.Te=function(t){if(t&&t.Bf){var e=t.O.key;if(0==e.indexOf(this.Ge+this.Td)&&this.X[e]){if(void 0!==t.O.Jd?pu(this,"local").Ya(this.$d):vu(this),this.lg){var r=n.localStorage.getItem(e),i=t.O.newValue;if(i!==r)null!==i?n.localStorage.setItem(e,i):n.localStorage.removeItem(e);else if(this.Y[e]===i&&void 0===t.O.Jd)return}var o=this;r=function(){void 0===t.O.Jd&&o.Y[e]===n.localStorage.getItem(e)||(o.Y[e]=n.localStorage.getItem(e),o.ge(e))},_t&&jt&&10==jt&&n.localStorage.getItem(e)!==t.O.newValue&&t.O.newValue!==t.O.oldValue?setTimeout(r,10):r()}}else Q(t,b(this.ge,this))},lu.prototype.ge=function(t){this.X[t]&&Q(this.X[t],function(t){t()})};var bu=function(t,e){this.i=t,this.h=e||fu()},yu={name:"authEvent",B:"local"},mu=function(t){return t.h.get(yu,t.i).then(function(t){return No(t)})};bu.prototype.hb=function(t){this.h.addListener(yu,this.i,t)},bu.prototype.cc=function(t){this.h.removeListener(yu,this.i,t)};var gu=function(t){this.h=t||fu()},wu={name:"sessionId",B:"session"};gu.prototype.uc=function(t){return this.h.get(wu,t)};var Tu=function(t,e,n,r,i,o,s){this.C=t,this.o=e,this.u=n,this.Ka=r||null,this.V=s||null,this.Ue=e+":"+n,this.mg=new gu,this.se=new bu(this.Ue),this.xd=null,this.ta=[],this.Qf=i||500,this.fg=o||2e3,this.Qb=this.Kc=null},Iu=function(t){return new Ao("invalid-cordova-configuration",t)};Tu.prototype.Qa=function(){return this.Sb?this.Sb:this.Sb=Wi().then(function(){if("function"!=typeof zi("universalLinks.subscribe",n))throw Iu("cordova-universal-links-plugin is not installed");if(void 0===zi("BuildInfo.packageName",n))throw Iu("cordova-plugin-buildinfo is not installed");if("function"!=typeof zi("cordova.plugins.browsertab.openUrl",n))throw Iu("cordova-plugin-browsertab is not installed");if("function"!=typeof zi("cordova.InAppBrowser.open",n))throw Iu("cordova-plugin-inappbrowser is not installed")},function(){throw new Ao("cordova-not-ready")})};var ku=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")},Eu=function(t){var e=new Qt;return e.update(t),ht(e.digest())};(t=Tu.prototype).ec=function(t,e){return e(new Ao("operation-not-supported-in-this-environment")),xn()},t.Zb=function(){return Cn(new Ao("operation-not-supported-in-this-environment"))},t.We=function(){return!1},t.Se=function(){return!0},t.we=function(){return!0},t.$b=function(t,e,r){if(this.Kc)return Cn(new Ao("redirect-operation-pending"));var i=this,o=n.document,s=null,a=null,u=null,c=null;return this.Kc=jn(xn().then(function(){return Qo(e),Au(i)}).then(function(){return Su(i,t,e,r)}).then(function(){return new _n(function(t,e){a=function(){var e=zi("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),i.Qb&&"function"==typeof i.Qb.close&&(i.Qb.close(),i.Qb=null),!1},i.hb(a),u=function(){s||(s=Fr(i.fg).then(function(){e(new Ao("redirect-cancelled-by-user"))}))},c=function(){lo()&&u()},o.addEventListener("resume",u,!1),Yi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).f(function(t){return _u(i).then(function(){throw t})})}),function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&i.cc(a),i.Kc=null})};var Su=function(t,e,r,i){var o=ku(),s=new Po(e,i,null,o,new Ao("no-auth-event")),a=zi("BuildInfo.packageName",n);if("string"!=typeof a)throw new Ao("invalid-cordova-configuration");var u=zi("BuildInfo.displayName",n),c={};if(Yi().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Yi().toLowerCase().match(/android/))return Cn(new Ao("operation-not-supported-in-this-environment"));c.apn=a}u&&(c.appDisplayName=u),o=Eu(o),c.sessionId=o;var h=ya(t.C,t.o,t.u,e,r,null,i,t.Ka,c,t.V);return t.Qa().then(function(){var e=t.Ue;return t.mg.h.set(yu,s.I(),e)}).then(function(){var e=zi("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new Ao("invalid-cordova-configuration");var r=null;e(function(e){if(e){if("function"!=typeof(r=zi("cordova.plugins.browsertab.openUrl",n)))throw new Ao("invalid-cordova-configuration");r(h)}else{if("function"!=typeof(r=zi("cordova.InAppBrowser.open",n)))throw new Ao("invalid-cordova-configuration");e=r;var i=Yi();i=!(!i.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!i.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.Qb=e(h,i?"_blank":"_system","location=yes")}})})};Tu.prototype.Kb=function(t){for(var e=0;e<this.ta.length;e++)try{this.ta[e](t)}catch(t){}};var Au=function(t){return t.xd||(t.xd=t.Qa().then(function(){return new _n(function(e){var n=function(r){return e(r),t.cc(n),!1};t.hb(n),Ou(t)})})),t.xd},_u=function(t){var e=null;return mu(t.se).then(function(n){return e=n,(n=t.se).h.remove(yu,n.i)}).then(function(){return e})},Ou=function(t){var e=zi("universalLinks.subscribe",n);if("function"!=typeof e)throw new Ao("invalid-cordova-configuration");var r=new Po("unknown",null,null,null,new Ao("no-auth-event")),i=!1,o=Fr(t.Qf).then(function(){return _u(t).then(function(){i||t.Kb(r)})}),s=function(e){i=!0,o&&o.cancel(),_u(t).then(function(n){var i=r;if(n&&e&&e.url){i=null;var o=e.url,s=di(o),a=fi(s,"link"),u=fi(di(a),"link");s=fi(s,"deep_link_id"),-1!=(o=fi(di(s),"link")||s||u||a||o).indexOf("/__/auth/callback")&&(i=di(o),i=io(fi(i,"firebaseError")||null),i=(i="object"==typeof i?_o(i):null)?new Po(n.ma,n.W,null,null,i):new Po(n.ma,n.W,o,n.uc())),i=i||r}t.Kb(i)})},a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(zi("BuildInfo.packageName",n).toLowerCase()+"://")&&s({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},e(null,s)};Tu.prototype.hb=function(t){this.ta.push(t),Au(this).f(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Po("unknown",null,null,null,new Ao("no-auth-event")),t(e))})},Tu.prototype.cc=function(t){at(this.ta,function(e){return e==t})};var Pu=function(t){this.i=t,this.h=fu()},Nu={name:"pendingRedirect",B:"session"},xu=function(t){return t.h.set(Nu,"pending",t.i)},Cu=function(t){return t.h.remove(Nu,t.i)},Ru=function(t){return t.h.get(Nu,t.i).then(function(t){return"pending"==t})},Du=function(t,e,n){this.C=t,this.o=e,this.u=n,this.gc=[],this.qb=!1,this.ed=b(this.td,this),this.Wa=new Wu(this),this.Ld=new Gu(this),this.Wb=new Pu(this.o+":"+this.u),this.Ha={},this.Ha.unknown=this.Wa,this.Ha.signInViaRedirect=this.Wa,this.Ha.linkViaRedirect=this.Wa,this.Ha.reauthViaRedirect=this.Wa,this.Ha.signInViaPopup=this.Ld,this.Ha.linkViaPopup=this.Ld,this.Ha.reauthViaPopup=this.Ld,this.Z=Lu(this.C,this.o,this.u,Oi)},Lu=function(t,e,n,r){var i=Re.SDK_VERSION||null;return Ki()?new Tu(t,e,n,i,void 0,void 0,r):new va(t,e,n,i,r)};Du.prototype.reset=function(){this.qb=!1,this.Z.cc(this.ed),this.Z=Lu(this.C,this.o,this.u)},Du.prototype.Rb=function(){var t=this;this.qb||(this.qb=!0,this.Z.hb(this.ed));var e=this.Z;return this.Z.Qa().f(function(n){throw t.Z==e&&t.reset(),n})};var ju=function(t){t.Z.Se()&&t.Rb().f(function(e){var n=new Po("unknown",null,null,null,new Ao("operation-not-supported-in-this-environment"));Vu(e)&&t.td(n)}),t.Z.we()||Ku(t.Wa)};Du.prototype.subscribe=function(t){if(it(this.gc,t)||this.gc.push(t),!this.qb){var e=this;Ru(this.Wb).then(function(t){t?Cu(e.Wb).then(function(){e.Rb().f(function(t){var n=new Po("unknown",null,null,null,new Ao("operation-not-supported-in-this-environment"));Vu(t)&&e.td(n)})}):ju(e)}).f(function(){ju(e)})}},Du.prototype.unsubscribe=function(t){at(this.gc,function(e){return e==t})},Du.prototype.td=function(t){if(!t)throw new Ao("invalid-auth-event");for(var e=!1,n=0;n<this.gc.length;n++){var r=this.gc[n];if(r.he(t.ma,t.W)){(e=this.Ha[t.ma])&&e.Me(t,r),e=!0;break}}return Ku(this.Wa),e};var Uu=new co(2e3,1e4),Mu=new co(3e4,6e4);Du.prototype.getRedirectResult=function(){return this.Wa.getRedirectResult()},Du.prototype.Zb=function(t,e,n,r,i){var o=this;return this.Z.Zb(t,e,n,function(){o.qb||(o.qb=!0,o.Z.hb(o.ed))},function(){o.reset()},r,i)};var Vu=function(t){return!(!t||"auth/cordova-not-ready"!=t.code)};Du.prototype.$b=function(t,e,n){var r,i=this;return xu(this.Wb).then(function(){return i.Z.$b(t,e,n).f(function(t){if(Vu(t))throw new Ao("operation-not-supported-in-this-environment");return r=t,Cu(i.Wb).then(function(){throw r})}).then(function(){return i.Z.We()?new _n(function(){}):Cu(i.Wb).then(function(){return i.getRedirectResult()}).then(function(){}).f(function(){})})})},Du.prototype.ec=function(t,e,n,r){return this.Z.ec(n,function(n){t.$a(e,null,n,r)},Uu.get())};var Fu={},qu=function(t,e,n){var r=e+":"+n;return Fu[r]||(Fu[r]=new Du(t,e,n)),Fu[r]},Wu=function(t){this.h=t,this.zb=null,this.bc=[],this.ac=[],this.wb=null,this.Od=!1};Wu.prototype.reset=function(){this.zb=null,this.wb&&(this.wb.cancel(),this.wb=null)},Wu.prototype.Me=function(t,e){if(!t)return Cn(new Ao("invalid-auth-event"));this.reset(),this.Od=!0;var n=t.ma,r=t.W,i=t.getError()&&"auth/web-storage-unsupported"==t.getError().code,o=t.getError()&&"auth/operation-not-supported-in-this-environment"==t.getError().code;return"unknown"!=n||i||o?t=t.ba?this.Md(t,e):e.Mb(n,r)?this.Nd(t,e):Cn(new Ao("invalid-auth-event")):($u(this,!1,null,null),t=xn()),t};var Ku=function(t){t.Od||(t.Od=!0,$u(t,!1,null,null))};Wu.prototype.Md=function(t){return $u(this,!0,null,t.getError()),xn()},Wu.prototype.Nd=function(t,e){var n=this;e=e.Mb(t.ma,t.W);var r=t.Db,i=t.uc(),o=!!t.ma.match(/Redirect$/);return e(r,i).then(function(t){$u(n,o,t,null)}).f(function(t){$u(n,o,null,t)})};var Bu=function(t,e){if(t.zb=function(){return Cn(e)},t.ac.length)for(var n=0;n<t.ac.length;n++)t.ac[n](e)},Xu=function(t,e){if(t.zb=function(){return xn(e)},t.bc.length)for(var n=0;n<t.bc.length;n++)t.bc[n](e)},$u=function(t,e,n,r){e?r?Bu(t,r):Xu(t,n):Xu(t,{user:null}),t.bc=[],t.ac=[]};Wu.prototype.getRedirectResult=function(){var t=this;return new _n(function(e,n){t.zb?t.zb().then(e,n):(t.bc.push(e),t.ac.push(n),Hu(t))})};var Hu=function(t){var e=new Ao("timeout");t.wb&&t.wb.cancel(),t.wb=Fr(Mu.get()).then(function(){t.zb||$u(t,!0,null,e)})},Gu=function(t){this.h=t};Gu.prototype.Me=function(t,e){if(!t)return Cn(new Ao("invalid-auth-event"));var n=t.ma,r=t.W;return t.ba?this.Md(t,e):e.Mb(n,r)?this.Nd(t,e):Cn(new Ao("invalid-auth-event"))},Gu.prototype.Md=function(t,e){return e.$a(t.ma,null,t.getError(),t.W),xn()},Gu.prototype.Nd=function(t,e){var n=t.W,r=t.ma,i=e.Mb(r,n),o=t.Db;return t=t.uc(),i(o,t).then(function(t){e.$a(r,t,null,n)}).f(function(t){e.$a(r,null,t,n)})};var Yu=function(t){this.g=t,this.Ia=this.fa=null,this.Ma=0};Yu.prototype.I=function(){return{apiKey:this.g.o,refreshToken:this.fa,accessToken:this.Ia,expirationTime:this.Ma}};var zu=function(t,e){var n=e.idToken,r=e.refreshToken;e=Ju(e.expiresIn),t.Ia=n,t.Ma=e,t.fa=r},Ju=function(t){return m()+1e3*parseInt(t,10)},Zu=function(t,e){return ds(t.g,e).then(function(e){return t.Ia=e.access_token,t.Ma=Ju(e.expires_in),t.fa=e.refresh_token,{accessToken:t.Ia,expirationTime:t.Ma,refreshToken:t.fa}}).f(function(e){throw"auth/user-token-expired"==e.code&&(t.fa=null),e})};Yu.prototype.getToken=function(t){return t=!!t,this.Ia&&!this.fa?Cn(new Ao("user-token-expired")):t||!this.Ia||m()>this.Ma-3e4?this.fa?Zu(this,{grant_type:"refresh_token",refresh_token:this.fa}):xn(null):xn({accessToken:this.Ia,expirationTime:this.Ma,refreshToken:this.fa})};var Qu=function(t,e,n,r,i,o){yo(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})},tc=function(t,e){oe.call(this,t);for(var n in e)this[n]=e[n]};g(tc,oe);var ec=function(t,e,n){this.K=[],this.o=t.apiKey,this.u=t.appName,this.C=t.authDomain||null,t=Re.SDK_VERSION?Gi(Re.SDK_VERSION):null,this.g=new is(this.o,Ni(Oi),t),this.ra=new Yu(this.g),ac(this,e.idToken),zu(this.ra,e),bo(this,"refreshToken",this.ra.fa),lc(this,n||{}),Ar.call(this),this.Lc=!1,this.C&&Zi()&&(this.v=qu(this.C,this.o,this.u)),this.Rc=[],this.sa=null,this.ub=ic(this),this.Fb=b(this.ud,this);var r=this;this.ia=null,this.Ie=function(t){r.Bb(t.Tf)},this.Ad=null};g(ec,Ar),ec.prototype.Bb=function(t){this.ia=t,cs(this.g,t)};var nc=function(t,e){t.Ad&&Te(t.Ad,"languageCodeChanged",t.Ie),(t.Ad=e)&&ye(e,"languageCodeChanged",t.Ie)};ec.prototype.ud=function(){this.ub.sb&&(this.ub.stop(),this.ub.start())};var rc=function(t){try{return Re.app(t.u).auth()}catch(e){throw new Ao("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.u+"'!")}},ic=function(t){return new Qa(function(){return t.getIdToken(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.ra.Ma-m()-3e5;return 0<e?e:0},3e4,96e4,!1)},oc=function(t){t.Jb||t.ub.sb||(t.ub.start(),Te(t,"tokenChanged",t.Fb),ye(t,"tokenChanged",t.Fb))},sc=function(t){Te(t,"tokenChanged",t.Fb),t.ub.stop()},ac=function(t,e){t.De=e,bo(t,"_lat",e)},uc=function(t,e){at(t.Rc,function(t){return t==e})},cc=function(t){for(var e=[],n=0;n<t.Rc.length;n++)e.push(t.Rc[n](t));return Ln(e).then(function(){return t})},hc=function(t){t.v&&!t.Lc&&(t.Lc=!0,t.v.subscribe(t))},lc=function(t,e){yo(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,providerData:[]})};bo(ec.prototype,"providerId","firebase");var fc=function(){},pc=function(t){return xn().then(function(){if(t.Jb)throw new Ao("app-deleted")})},dc=function(t){return et(t.providerData,function(t){return t.providerId})},vc=function(t,e){e&&(bc(t,e.providerId),t.providerData.push(e))},bc=function(t,e){at(t.providerData,function(t){return t.providerId==e})},yc=function(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&bo(t,e,n)};ec.prototype.copy=function(t){var e=this;e!=t&&(yo(this,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),Q(t.providerData,function(t){vc(e,t)}),this.ra=t.ra,bo(this,"refreshToken",this.ra.fa))},ec.prototype.reload=function(){var t=this;return this.c(pc(this).then(function(){return mc(t).then(function(){return cc(t)}).then(fc)}))};var mc=function(t){return t.getIdToken().then(function(e){var n=t.isAnonymous;return wc(t,e).then(function(){return n||yc(t,"isAnonymous",!1),e})})};ec.prototype.getIdToken=function(t){var e=this;return this.c(pc(this).then(function(){return e.ra.getToken(t)}).then(function(t){if(!t)throw new Ao("internal-error");return t.accessToken!=e.De&&(ac(e,t.accessToken),e.Sa()),yc(e,"refreshToken",t.refreshToken),t.accessToken}))},ec.prototype.getToken=function(t){return po["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(po["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.getIdToken(t)};var gc=function(t,e){e.idToken&&t.De!=e.idToken&&(zu(t.ra,e),t.Sa(),ac(t,e.idToken),yc(t,"refreshToken",t.ra.fa))};ec.prototype.Sa=function(){this.dispatchEvent(new tc("tokenChanged"))};var wc=function(t,e){return ta(t.g,js,{idToken:e}).then(b(t.cg,t))};ec.prototype.cg=function(t){if(!(t=t.users)||!t.length)throw new Ao("internal-error");t=t[0],lc(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber});for(var e=Tc(t),n=0;n<e.length;n++)vc(this,e[n]);yc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))};var Tc=function(t){return(t=t.providerUserInfo)&&t.length?et(t,function(t){return new Qu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]};ec.prototype.reauthenticateAndRetrieveDataWithCredential=function(t){var e=this,n=null;return this.c(t.Dd(this.g,this.uid).then(function(t){return gc(e,t),n=kc(e,t,"reauthenticate"),e.sa=null,e.reload()}).then(function(){return n}),!0)},ec.prototype.reauthenticateWithCredential=function(t){return this.reauthenticateAndRetrieveDataWithCredential(t).then(function(){})};var Ic=function(t,e){return mc(t).then(function(){if(it(dc(t),e))return cc(t).then(function(){throw new Ao("provider-already-linked")})})};ec.prototype.linkAndRetrieveDataWithCredential=function(t){var e=this,n=null;return this.c(Ic(this,t.providerId).then(function(){return e.getIdToken()}).then(function(n){return t.Gc(e.g,n)}).then(function(t){return n=kc(e,t,"link"),Ec(e,t)}).then(function(){return n}))},ec.prototype.linkWithCredential=function(t){return this.linkAndRetrieveDataWithCredential(t).then(function(t){return t.user})},ec.prototype.linkWithPhoneNumber=function(t,e){var n=this;return this.c(Ic(this,"phone").then(function(){return Ja(rc(n),t,e,b(n.linkAndRetrieveDataWithCredential,n))}))},ec.prototype.reauthenticateWithPhoneNumber=function(t,e){var n=this;return this.c(xn().then(function(){return Ja(rc(n),t,e,b(n.reauthenticateAndRetrieveDataWithCredential,n))}),!0)};var kc=function(t,e,n){var r=Zo(e);return e=nu(e),mo({user:t,credential:r,additionalUserInfo:e,operationType:n})},Ec=function(t,e){return gc(t,e),t.reload().then(function(){return t})};(t=ec.prototype).updateEmail=function(t){var e=this;return this.c(this.getIdToken().then(function(n){return e.g.updateEmail(n,t)}).then(function(t){return gc(e,t),e.reload()}))},t.updatePhoneNumber=function(t){var e=this;return this.c(this.getIdToken().then(function(n){return t.Gc(e.g,n)}).then(function(t){return gc(e,t),e.reload()}))},t.updatePassword=function(t){var e=this;return this.c(this.getIdToken().then(function(n){return e.g.updatePassword(n,t)}).then(function(t){return gc(e,t),e.reload()}))},t.updateProfile=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return pc(this);var e=this;return this.c(this.getIdToken().then(function(n){return e.g.updateProfile(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return gc(e,t),yc(e,"displayName",t.displayName||null),yc(e,"photoURL",t.photoUrl||null),Q(e.providerData,function(t){"password"===t.providerId&&(bo(t,"displayName",e.displayName),bo(t,"photoURL",e.photoURL))}),cc(e)}).then(fc))},t.unlink=function(t){var e=this;return this.c(mc(this).then(function(n){return it(dc(e),t)?ks(e.g,n,[t]).then(function(t){var n={};return Q(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),Q(dc(e),function(t){n[t]||bc(e,t)}),n[zo.PROVIDER_ID]||bo(e,"phoneNumber",null),cc(e)}):cc(e).then(function(){throw new Ao("no-such-provider")})}))},t.delete=function(){var t=this;return this.c(this.getIdToken().then(function(e){return ta(t.g,Ds,{idToken:e})}).then(function(){t.dispatchEvent(new tc("userDeleted"))})).then(function(){for(var e=0;e<t.K.length;e++)t.K[e].cancel("app-deleted");nc(t,null),t.K=[],t.Jb=!0,sc(t),bo(t,"refreshToken",null),t.v&&t.v.unsubscribe(t)})},t.he=function(t,e){return!!("linkViaPopup"==t&&(this.la||null)==e&&this.ka||"reauthViaPopup"==t&&(this.la||null)==e&&this.ka||"linkViaRedirect"==t&&(this.Ga||null)==e||"reauthViaRedirect"==t&&(this.Ga||null)==e)},t.$a=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.la||null)||(n&&this.Ua?this.Ua(n):e&&!n&&this.ka&&this.ka(e),this.M&&(this.M.cancel(),this.M=null),delete this.ka,delete this.Ua)},t.Mb=function(t,e){return"linkViaPopup"==t&&e==(this.la||null)?b(this.qe,this):"reauthViaPopup"==t&&e==(this.la||null)?b(this.re,this):"linkViaRedirect"==t&&(this.Ga||null)==e?b(this.qe,this):"reauthViaRedirect"==t&&(this.Ga||null)==e?b(this.re,this):null},t.tc=function(){return oo(this.uid+":::")},t.linkWithPopup=function(t){var e=this;return Sc(this,"linkViaPopup",t,function(){return Ic(e,t.providerId).then(function(){return cc(e)})},!1)},t.reauthenticateWithPopup=function(t){return Sc(this,"reauthViaPopup",t,function(){return xn()},!0)};var Sc=function(t,e,n,r,i){if(!Zi())return Cn(new Ao("operation-not-supported-in-this-environment"));if(t.sa&&!i)return Cn(t.sa);var o=So(n.providerId),s=t.tc(),a=null;(!eo()||Bi())&&t.C&&n.isOAuthProvider&&(a=ya(t.C,t.o,t.u,e,n,null,s,Re.SDK_VERSION||null));var u=Mi(a,o&&o.Yb,o&&o.Xb);return r=r().then(function(){if(_c(t),!i)return t.getIdToken().then(function(){})}).then(function(){return t.v.Zb(u,e,n,s,!!a)}).then(function(){return new _n(function(n,r){t.$a(e,null,new Ao("cancelled-popup-request"),t.la||null),t.ka=n,t.Ua=r,t.la=s,t.M=t.v.ec(t,e,u,s)})}).then(function(t){return u&&Ui(u),t?mo(t):null}).f(function(t){throw u&&Ui(u),t}),t.c(r,i)};ec.prototype.linkWithRedirect=function(t){var e=this;return Ac(this,"linkViaRedirect",t,function(){return Ic(e,t.providerId)},!1)},ec.prototype.reauthenticateWithRedirect=function(t){return Ac(this,"reauthViaRedirect",t,function(){return xn()},!0)};var Ac=function(t,e,n,r,i){if(!Zi())return Cn(new Ao("operation-not-supported-in-this-environment"));if(t.sa&&!i)return Cn(t.sa);var o=null,s=t.tc();return r=r().then(function(){if(_c(t),!i)return t.getIdToken().then(function(){})}).then(function(){return t.Ga=s,cc(t)}).then(function(e){return t.Xa&&(e=t.Xa,e=e.h.set(Cc,t.I(),e.i)),e}).then(function(){return t.v.$b(e,n,s)}).f(function(e){if(o=e,t.Xa)return Rc(t.Xa);throw o}).then(function(){if(o)throw o}),t.c(r,i)},_c=function(t){if(!t.v||!t.Lc){if(t.v&&!t.Lc)throw new Ao("internal-error");throw new Ao("auth-domain-config-required")}};ec.prototype.qe=function(t,e){var n=this;this.M&&(this.M.cancel(),this.M=null);var r=null,i=this.getIdToken().then(function(r){return _s(n.g,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=kc(n,t,"link"),Ec(n,t)}).then(function(){return r});return this.c(i)},ec.prototype.re=function(t,e){var n=this;this.M&&(this.M.cancel(),this.M=null);var r=null,i=xn().then(function(){return Ro(Os(n.g,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=kc(n,t,"reauthenticate"),gc(n,t),n.sa=null,n.reload()}).then(function(){return r});return this.c(i,!0)},ec.prototype.sendEmailVerification=function(t){var e=this,n=null;return this.c(this.getIdToken().then(function(e){return n=e,void 0===t||mt(t)?{}:Ya(new Ga(t))}).then(function(t){return e.g.sendEmailVerification(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},ec.prototype.c=function(t,e){var n=this,r=Oc(this,t,e);return this.K.push(r),jn(r,function(){ot(n.K,r)}),r};var Oc=function(t,e,n){return t.sa&&!n?(e.cancel(),Cn(t.sa)):e.f(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.sa||t.dispatchEvent(new tc("userInvalidated")),t.sa=e),e})};ec.prototype.toJSON=function(){return this.I()},ec.prototype.I=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.o,appName:this.u,authDomain:this.C,stsTokenManager:this.ra.I(),redirectEventId:this.Ga||null};return Q(this.providerData,function(e){t.providerData.push(go(e))}),t};var Pc=function(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n.idToken=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-m())/1e3;var r=new ec(e,n,t);return t.providerData&&Q(t.providerData,function(t){t&&vc(r,mo(t))}),t.redirectEventId&&(r.Ga=t.redirectEventId),r},Nc=function(t,e,n){var r=new ec(t,e);return n&&(r.Xa=n),r.reload().then(function(){return r})},xc=function(t){this.i=t,this.h=fu()},Cc={name:"redirectUser",B:"session"},Rc=function(t){return t.h.remove(Cc,t.i)},Dc=function(t,e){return t.h.get(Cc,t.i).then(function(t){return t&&e&&(t.authDomain=e),Pc(t||{})})},Lc=function(t,e){this.i=t,this.h=e||fu(),this.N=null,this.Gd=this.yd(),this.h.addListener(Mc("local"),this.i,b(this.sg,this))};Lc.prototype.sg=function(){var t=this,e=Mc("local");Kc(this,function(){return xn().then(function(){return t.N&&"local"!=t.N.B?t.h.get(e,t.i):null}).then(function(n){if(n)return jc(t,"local").then(function(){t.N=e})})})};var jc=function(t,e){var n,r=[];for(n in cu)cu[n]!==e&&r.push(t.h.remove(Mc(cu[n]),t.i));return r.push(t.h.remove(Uc,t.i)),Dn(r)};Lc.prototype.yd=function(){var t=this,e=Mc("local"),n=Mc("session"),r=Mc("none");return this.h.get(n,this.i).then(function(i){return i?n:t.h.get(r,t.i).then(function(n){return n?r:t.h.get(e,t.i).then(function(n){return n?e:t.h.get(Uc,t.i).then(function(t){return t?Mc(t):e})})})}).then(function(e){return t.N=e,jc(t,e.B)}).f(function(){t.N||(t.N=e)})};var Uc={name:"persistence",B:"session"},Mc=function(t){return{name:"authUser",B:t}};Lc.prototype.setPersistence=function(t){var e=null,n=this;return hu(t),Kc(this,function(){return t!=n.N.B?n.h.get(n.N,n.i).then(function(r){return e=r,jc(n,t)}).then(function(){if(n.N=Mc(t),e)return n.h.set(n.N,e,n.i)}):xn()})};var Vc=function(t){return Kc(t,function(){return t.h.set(Uc,t.N.B,t.i)})},Fc=function(t,e){return Kc(t,function(){return t.h.set(t.N,e.I(),t.i)})},qc=function(t){return Kc(t,function(){return t.h.remove(t.N,t.i)})},Wc=function(t,e){return Kc(t,function(){return t.h.get(t.N,t.i).then(function(t){return t&&e&&(t.authDomain=e),Pc(t||{})})})},Kc=function(t,e){return t.Gd=t.Gd.then(e,e),t.Gd},Bc=function(t){if(this.Da=!1,bo(this,"app",t),!this.j().options||!this.j().options.apiKey)throw new Ao("invalid-api-key");t=Re.SDK_VERSION?Gi(Re.SDK_VERSION):null,this.g=new is(this.j().options&&this.j().options.apiKey,Ni(Oi),t),this.K=[],this.Ja=[],this.Eb=[],this.Zf=Re.INTERNAL.createSubscribe(b(this.Nf,this)),this.kc=void 0,this.ag=Re.INTERNAL.createSubscribe(b(this.Pf,this)),zc(this,null),t=this.j().options.apiKey;var e=this.j().name;this.na=new Lc(t+":"+e),t=this.j().options.apiKey,e=this.j().name,this.xb=new xc(t+":"+e),this.oc=this.c(Zc(this)),this.ya=this.c(Qc(this)),this.Dc=!1,this.sd=b(this.tg,this),this.Ze=b(this.nb,this),this.Fb=b(this.ud,this),this.Xe=b(this.If,this),this.Ye=b(this.Jf,this),Gc(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.Na=0,Ar.call(this),$c(this)};g(Bc,Ar);var Xc=function(t){oe.call(this,"languageCodeChanged"),this.Tf=t};g(Xc,oe),Bc.prototype.setPersistence=function(t){return t=this.na.setPersistence(t),this.c(t)},Bc.prototype.Bb=function(t){this.ia===t||this.Da||(this.ia=t,cs(this.g,this.ia),this.dispatchEvent(new Xc(this.ia)))},Bc.prototype.zg=function(){var t=n.navigator;this.Bb(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)};var $c=function(t){Object.defineProperty(t,"lc",{get:function(){return this.ia},set:function(t){this.Bb(t)},enumerable:!1}),t.ia=null};Bc.prototype.toJSON=function(){return{apiKey:this.j().options.apiKey,authDomain:this.j().options.authDomain,appName:this.j().name,currentUser:eh(this)&&eh(this).I()}};var Hc=function(t){return t.uf||Cn(new Ao("auth-domain-config-required"))},Gc=function(t){var e=t.j().options.authDomain,n=t.j().options.apiKey;e&&Zi()&&(t.uf=t.oc.then(function(){if(!t.Da){if(t.v=qu(e,n,t.j().name),t.v.subscribe(t),eh(t)&&hc(eh(t)),t.yb){hc(t.yb);var r=t.yb;r.Bb(t.ia),nc(r,t),t.yb=null}return t.v}}))};(t=Bc.prototype).he=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.la==e&&!!this.ka;default:return!1}},t.$a=function(t,e,n,r){"signInViaPopup"==t&&this.la==r&&(n&&this.Ua?this.Ua(n):e&&!n&&this.ka&&this.ka(e),this.M&&(this.M.cancel(),this.M=null),delete this.ka,delete this.Ua)},t.Mb=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.la==e&&this.ka?b(this.wf,this):null},t.wf=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.M&&(this.M.cancel(),this.M=null);var r=null,i=null,o=As(n.g,t).then(function(t){return r=Zo(t),i=nu(t),t});return t=n.oc.then(function(){return o}).then(function(t){return Yc(n,t)}).then(function(){return mo({user:eh(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),this.c(t)},t.tc=function(){return oo()},t.signInWithPopup=function(t){if(!Zi())return Cn(new Ao("operation-not-supported-in-this-environment"));var e=this,n=So(t.providerId),r=this.tc(),i=null;(!eo()||Bi())&&this.j().options.authDomain&&t.isOAuthProvider&&(i=ya(this.j().options.authDomain,this.j().options.apiKey,this.j().name,"signInViaPopup",t,null,r,Re.SDK_VERSION||null));var o=Mi(i,n&&n.Yb,n&&n.Xb);return n=Hc(this).then(function(e){return e.Zb(o,"signInViaPopup",t,r,!!i)}).then(function(){return new _n(function(t,n){e.$a("signInViaPopup",null,new Ao("cancelled-popup-request"),e.la),e.ka=t,e.Ua=n,e.la=r,e.M=e.v.ec(e,"signInViaPopup",o,r)})}).then(function(t){return o&&Ui(o),t?mo(t):null}).f(function(t){throw o&&Ui(o),t}),this.c(n)},t.signInWithRedirect=function(t){if(!Zi())return Cn(new Ao("operation-not-supported-in-this-environment"));var e=this,n=Hc(this).then(function(){return Vc(e.na)}).then(function(){return e.v.$b("signInViaRedirect",t)});return this.c(n)},t.getRedirectResult=function(){if(!Zi())return Cn(new Ao("operation-not-supported-in-this-environment"));var t=this,e=Hc(this).then(function(){return t.v.getRedirectResult()}).then(function(t){return t?mo(t):null});return this.c(e)};var Yc=function(t,e){var n={};return n.apiKey=t.j().options.apiKey,n.authDomain=t.j().options.authDomain,n.appName=t.j().name,t.oc.then(function(){return Nc(n,e,t.xb)}).then(function(e){return eh(t)&&e.uid==eh(t).uid?(eh(t).copy(e),t.nb(e)):(zc(t,e),hc(e),t.nb(e))}).then(function(){t.Sa()})},zc=function(t,e){eh(t)&&(uc(eh(t),t.Ze),Te(eh(t),"tokenChanged",t.Fb),Te(eh(t),"userDeleted",t.Xe),Te(eh(t),"userInvalidated",t.Ye),sc(eh(t))),e&&(e.Rc.push(t.Ze),ye(e,"tokenChanged",t.Fb),ye(e,"userDeleted",t.Xe),ye(e,"userInvalidated",t.Ye),0<t.Na&&oc(e)),bo(t,"currentUser",e),e&&(e.Bb(t.ia),nc(e,t))};Bc.prototype.signOut=function(){var t=this,e=this.ya.then(function(){return eh(t)?(zc(t,null),qc(t.na).then(function(){t.Sa()})):xn()});return this.c(e)};var Jc=function(t){var e=t.j().options.authDomain;return e=Dc(t.xb,e).then(function(e){return(t.yb=e)&&(e.Xa=t.xb),Rc(t.xb)}),t.c(e)},Zc=function(t){var e=t.j().options.authDomain,n=Jc(t).then(function(){return Wc(t.na,e)}).then(function(e){return e?(e.Xa=t.xb,t.yb&&(t.yb.Ga||null)==(e.Ga||null)?e:e.reload().then(function(){return Fc(t.na,e).then(function(){return e})}).f(function(n){return"auth/network-request-failed"==n.code?e:qc(t.na)})):null}).then(function(e){zc(t,e||null)});return t.c(n)},Qc=function(t){return t.oc.then(function(){return t.getRedirectResult()}).f(function(){}).then(function(){if(!t.Da)return t.sd()}).f(function(){}).then(function(){if(!t.Da){t.Dc=!0;var e=t.na;e.h.addListener(Mc("local"),e.i,t.sd)}})};(t=Bc.prototype).tg=function(){var t=this,e=this.j().options.authDomain;return Wc(this.na,e).then(function(e){if(!t.Da){var n;if(n=eh(t)&&e){n=eh(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return eh(t).copy(e),eh(t).getIdToken();(eh(t)||e)&&(zc(t,e),e&&(hc(e),e.Xa=t.xb),t.v&&t.v.subscribe(t),t.Sa())}})},t.nb=function(t){return Fc(this.na,t)},t.ud=function(){this.Sa(),this.nb(eh(this))},t.If=function(){this.signOut()},t.Jf=function(){this.signOut()};var th=function(t,e){var n=null,r=null;return t.c(e.then(function(e){return n=Zo(e),r=nu(e),Yc(t,e)}).then(function(){return mo({user:eh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))};(t=Bc.prototype).Nf=function(t){var e=this;this.addAuthTokenListener(function(){t.next(eh(e))})},t.Pf=function(t){var e=this;rh(this,function(){t.next(eh(e))})},t.onIdTokenChanged=function(t,e,n){var r=this;return this.Dc&&Re.Promise.resolve().then(function(){f(t)?t(eh(r)):f(t.next)&&t.next(eh(r))}),this.Zf(t,e,n)},t.onAuthStateChanged=function(t,e,n){var r=this;return this.Dc&&Re.Promise.resolve().then(function(){r.kc=r.getUid(),f(t)?t(eh(r)):f(t.next)&&t.next(eh(r))}),this.ag(t,e,n)},t.Cf=function(t){var e=this,n=this.ya.then(function(){return eh(e)?eh(e).getIdToken(t).then(function(t){return{accessToken:t}}):null});return this.c(n)},t.signInWithCustomToken=function(t){var e=this;return this.ya.then(function(){return th(e,ta(e.g,Ys,{token:t}))}).then(function(t){return t=t.user,yc(t,"isAnonymous",!1),e.nb(t)}).then(function(){return eh(e)})},t.signInWithEmailAndPassword=function(t,e){var n=this;return this.ya.then(function(){return th(n,ta(n.g,zs,{email:t,password:e}))}).then(function(t){return t.user})},t.createUserWithEmailAndPassword=function(t,e){var n=this;return this.ya.then(function(){return th(n,ta(n.g,Cs,{email:t,password:e}))}).then(function(t){return t.user})},t.signInWithCredential=function(t){return this.signInAndRetrieveDataWithCredential(t).then(function(t){return t.user})},t.signInAndRetrieveDataWithCredential=function(t){var e=this;return this.ya.then(function(){return th(e,t.Nb(e.g))})},t.signInAnonymously=function(){var t=this;return this.ya.then(function(){var e=eh(t);return e&&e.isAnonymous?e:th(t,t.g.signInAnonymously()).then(function(e){return e=e.user,yc(e,"isAnonymous",!0),t.nb(e)}).then(function(){return eh(t)})})},t.j=function(){return this.app};var eh=function(t){return t.currentUser};Bc.prototype.getUid=function(){return eh(this)&&eh(this).uid||null};var nh=function(t){return eh(t)&&eh(t)._lat||null};(t=Bc.prototype).Sa=function(){if(this.Dc){for(var t=0;t<this.Ja.length;t++)this.Ja[t]&&this.Ja[t](nh(this));if(this.kc!==this.getUid()&&this.Eb.length)for(this.kc=this.getUid(),t=0;t<this.Eb.length;t++)this.Eb[t]&&this.Eb[t](nh(this))}},t.hf=function(t){this.addAuthTokenListener(t),0<++this.Na&&eh(this)&&oc(eh(this))},t.gg=function(t){var e=this;Q(this.Ja,function(n){n==t&&e.Na--}),0>this.Na&&(this.Na=0),0==this.Na&&eh(this)&&sc(eh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.Ja.push(t),this.c(this.ya.then(function(){e.Da||it(e.Ja,t)&&t(nh(e))}))},t.removeAuthTokenListener=function(t){at(this.Ja,function(e){return e==t})};var rh=function(t,e){t.Eb.push(e),t.c(t.ya.then(function(){!t.Da&&it(t.Eb,e)&&t.kc!==t.getUid()&&(t.kc=t.getUid(),e(nh(t)))}))};(t=Bc.prototype).delete=function(){this.Da=!0;for(var t=0;t<this.K.length;t++)this.K[t].cancel("app-deleted");return this.K=[],this.na&&(t=this.na).h.removeListener(Mc("local"),t.i,this.sd),this.v&&this.v.unsubscribe(this),Re.Promise.resolve()},t.c=function(t){var e=this;return this.K.push(t),jn(t,function(){ot(e.K,t)}),t},t.fetchProvidersForEmail=function(t){return this.c(ms(this.g,t))},t.verifyPasswordResetCode=function(t){return this.checkActionCode(t).then(function(t){return t.data.email})},t.confirmPasswordReset=function(t,e){return this.c(this.g.confirmPasswordReset(t,e).then(function(){}))},t.checkActionCode=function(t){return this.c(this.g.checkActionCode(t).then(function(t){return new Za(t)}))},t.applyActionCode=function(t){return this.c(this.g.applyActionCode(t).then(function(){}))},t.sendPasswordResetEmail=function(t,e){var n=this;return this.c(xn().then(function(){return void 0===e||mt(e)?{}:Ya(new Ga(e))}).then(function(e){return n.g.sendPasswordResetEmail(t,e)}).then(function(){}))},t.signInWithPhoneNumber=function(t,e){return this.c(Ja(this,t,e,b(this.signInAndRetrieveDataWithCredential,this)))};var ih=function(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new Ao("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].T(n[i])&&!o){if(e=e[i],0>i||i>=oh.length)throw new Ao("internal-error","Argument validator received an unsupported number of arguments.");n=oh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.S+".";break t}r=null}}if(r)throw new Ao("argument-error",t+" failed: "+r)},oh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),sh=function(t,e){return{name:t||"",S:"a valid string",optional:!!e,T:i}},ah=function(){return{name:"opt_forceRefresh",S:"a boolean",optional:!0,T:o}},uh=function(t,e){return{name:t||"",S:"a valid object",optional:!!e,T:p}},ch=function(t,e){return{name:t||"",S:"a function",optional:!!e,T:f}},hh=function(t,e){return{name:t||"",S:"null",optional:!!e,T:c}},lh=function(){return{name:"",S:"an HTML element",optional:!1,T:function(t){return!!(t&&t instanceof Element)}}},fh=function(){return{name:"auth",S:"an instance of Firebase Auth",optional:!0,T:function(t){return!!(t&&t instanceof Bc)}}},ph=function(){return{name:"app",S:"an instance of Firebase App",optional:!0,T:function(t){return!!(t&&t instanceof Re.app.App)}}},dh=function(t){return{name:t?t+"Credential":"credential",S:t?"a valid "+t+" credential":"a valid credential",optional:!1,T:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.Nb||!n)}}},vh=function(){return{name:"authProvider",S:"a valid Auth provider",optional:!1,T:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}},bh=function(){return{name:"applicationVerifier",S:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,T:function(t){return!!(t&&i(t.type)&&f(t.verify))}}},yh=function(t,e,n,r){return{name:n||"",S:t.S+" or "+e.S,optional:!!r,T:function(n){return t.T(n)||e.T(n)}}},mh=function(t,e){for(var n in e){var r=e[n].name;t[r]=wh(r,t[n],e[n].a)}},gh=function(t,e,n,r){t[e]=wh(e,n,r)},wh=function(t,e,n){if(!n)return e;var r=Th(t);t=function(){var t=Array.prototype.slice.call(arguments);return ih(r,n,t),e.apply(this,t)};for(var i in e)t[i]=e[i];for(i in e.prototype)t.prototype[i]=e.prototype[i];return t},Th=function(t){return(t=t.split("."))[t.length-1]};mh(Bc.prototype,{applyActionCode:{name:"applyActionCode",a:[sh("code")]},checkActionCode:{name:"checkActionCode",a:[sh("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[sh("code"),sh("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[sh("email"),sh("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[sh("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[yh(uh(),ch(),"nextOrObserver"),ch("opt_error",!0),ch("opt_completed",!0)]},onIdTokenChanged:{name:"onIdTokenChanged",a:[yh(uh(),ch(),"nextOrObserver"),ch("opt_error",!0),ch("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[sh("email"),yh(uh("opt_actionCodeSettings",!0),hh(null,!0),"opt_actionCodeSettings",!0)]},setPersistence:{name:"setPersistence",a:[sh("persistence")]},signInAndRetrieveDataWithCredential:{name:"signInAndRetrieveDataWithCredential",a:[dh()]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[dh()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[sh("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[sh("email"),sh("password")]},signInWithPhoneNumber:{name:"signInWithPhoneNumber",a:[sh("phoneNumber"),bh()]},signInWithPopup:{name:"signInWithPopup",a:[vh()]},signInWithRedirect:{name:"signInWithRedirect",a:[vh()]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[sh(null,!0)]},zg:{name:"useDeviceLanguage",a:[]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[sh("code")]}}),function(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].kf;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){ih(r,[i],[t],!0),this[n]=t},enumerable:!0})}}}(Bc.prototype,{lc:{name:"languageCode",kf:yh(sh(),hh(),"languageCode")}}),(Bc.Persistence=cu).LOCAL="local",Bc.Persistence.SESSION="session",Bc.Persistence.NONE="none",mh(ec.prototype,{delete:{name:"delete",a:[]},getIdToken:{name:"getIdToken",a:[ah()]},getToken:{name:"getToken",a:[ah()]},linkAndRetrieveDataWithCredential:{name:"linkAndRetrieveDataWithCredential",a:[dh()]},linkWithCredential:{name:"linkWithCredential",a:[dh()]},linkWithPhoneNumber:{name:"linkWithPhoneNumber",a:[sh("phoneNumber"),bh()]},linkWithPopup:{name:"linkWithPopup",a:[vh()]},linkWithRedirect:{name:"linkWithRedirect",a:[vh()]},reauthenticateAndRetrieveDataWithCredential:{name:"reauthenticateAndRetrieveDataWithCredential",a:[dh()]},reauthenticateWithCredential:{name:"reauthenticateWithCredential",a:[dh()]},reauthenticateWithPhoneNumber:{name:"reauthenticateWithPhoneNumber",a:[sh("phoneNumber"),bh()]},reauthenticateWithPopup:{name:"reauthenticateWithPopup",a:[vh()]},reauthenticateWithRedirect:{name:"reauthenticateWithRedirect",a:[vh()]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[yh(uh("opt_actionCodeSettings",!0),hh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",a:[sh(null,!0)]},unlink:{name:"unlink",a:[sh("provider")]},updateEmail:{name:"updateEmail",a:[sh("email")]},updatePassword:{name:"updatePassword",a:[sh("password")]},updatePhoneNumber:{name:"updatePhoneNumber",a:[dh("phone")]},updateProfile:{name:"updateProfile",a:[uh("profile")]}}),mh(_n.prototype,{f:{name:"catch"},then:{name:"then"}}),mh(za.prototype,{confirm:{name:"confirm",a:[sh("verificationCode")]}}),gh(Ho,"credential",function(t,e){return new $o(t,e)},[sh("email"),sh("password")]),mh(Mo.prototype,{addScope:{name:"addScope",a:[sh("scope")]},setCustomParameters:{name:"setCustomParameters",a:[uh("customOAuthParameters")]}}),gh(Mo,"credential",Vo,[yh(sh(),uh(),"token")]),mh(Fo.prototype,{addScope:{name:"addScope",a:[sh("scope")]},setCustomParameters:{name:"setCustomParameters",a:[uh("customOAuthParameters")]}}),gh(Fo,"credential",qo,[yh(sh(),uh(),"token")]),mh(Wo.prototype,{addScope:{name:"addScope",a:[sh("scope")]},setCustomParameters:{name:"setCustomParameters",a:[uh("customOAuthParameters")]}}),gh(Wo,"credential",Ko,[yh(sh(),yh(uh(),hh()),"idToken"),yh(sh(),hh(),"accessToken",!0)]),mh(Bo.prototype,{setCustomParameters:{name:"setCustomParameters",a:[uh("customOAuthParameters")]}}),gh(Bo,"credential",Xo,[yh(sh(),uh(),"token"),sh("secret",!0)]),mh(Uo.prototype,{addScope:{name:"addScope",a:[sh("scope")]},credential:{name:"credential",a:[yh(sh(),hh(),"idToken",!0),yh(sh(),hh(),"accessToken",!0)]},setCustomParameters:{name:"setCustomParameters",a:[uh("customOAuthParameters")]}}),gh(zo,"credential",Jo,[sh("verificationId"),sh("verificationCode")]),mh(zo.prototype,{verifyPhoneNumber:{name:"verifyPhoneNumber",a:[sh("phoneNumber"),bh()]}}),mh(Ao.prototype,{toJSON:{name:"toJSON",a:[sh(null,!0)]}}),mh(ts.prototype,{toJSON:{name:"toJSON",a:[sh(null,!0)]}}),mh(xo.prototype,{toJSON:{name:"toJSON",a:[sh(null,!0)]}}),mh(Oa.prototype,{clear:{name:"clear",a:[]},render:{name:"render",a:[]},verify:{name:"verify",a:[]}}),function(){if(void 0===Re||!Re.INTERNAL||!Re.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Bc,Error:Ao};gh(t,"EmailAuthProvider",Ho,[]),gh(t,"FacebookAuthProvider",Mo,[]),gh(t,"GithubAuthProvider",Fo,[]),gh(t,"GoogleAuthProvider",Wo,[]),gh(t,"TwitterAuthProvider",Bo,[]),gh(t,"OAuthProvider",Uo,[sh("providerId")]),gh(t,"PhoneAuthProvider",zo,[fh()]),gh(t,"RecaptchaVerifier",Oa,[yh(sh(),lh(),"recaptchaContainer"),uh("recaptchaParameters",!0),ph()]),Re.INTERNAL.registerService("auth",function(t,e){return t=new Bc(t),e({INTERNAL:{getUid:b(t.getUid,t),getToken:b(t.Cf,t),addAuthTokenListener:b(t.hf,t),removeAuthTokenListener:b(t.gg,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),Re.INTERNAL.extendNamespace({User:ec})}()}).call(this)}).call(void 0!==typeof global?global:void 0!==typeof self?self:void 0!==typeof window?window:{});var De=function(){function t(t){this.app=t,this.authState=D(t),this.idToken=L(t),this.auth=t.auth()}return t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:$}]},t}(),Le=function(){function t(t,e){this.db=t,this.auth=e}return t.prototype.calculate=function(t,e){return t*e},t}();Le.decorators=[{type:n.Injectable}],Le.ctorParameters=function(){return[{type:Ce},{type:De}]};var je=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Le]}},t}();je.decorators=[{type:n.NgModule,args:[{declarations:[],exports:[],imports:[e.CommonModule]}]}],je.ctorParameters=function(){return[]},t.SampleService=Le,t.FirebaseExampleModule=je,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=firebase-example.umd.min.js.map
